(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{XSvz:function(e,t,i){"use strict";i.d(t,"a",(function(){return P}));var s,a=i("fejc"),n=i("Tz5S"),o=i("LYUm"),r=i("jWqq"),d=i("m4lk"),h=i("RakA"),l=i("Erg9"),c=(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),p=function(e,t,i,s){var a,n=arguments.length,o=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(o=(n<3?a(o):n>3?a(t,i,o):a(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o},u="e-treeview",f="e-icon-collapsible",g="e-icon-expandable",b="e-list-item",v="e-list-text",O="e-list-parent",j="e-hover",m="e-active",N="e-icons-spinner",y="e-process",k="e-icons",C="e-text-content",S="e-sibling",x="e-drop-next",D="e-fullrow",w="e-selected",E="e-check",A="e-checkbox-wrapper",L="e-node-focus",T={treeRole:"tree",itemRole:"treeitem",listRole:"group",itemText:"",wrapperRole:""},J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),p([Object(a.p)("child")],t.prototype,"child",void 0),p([Object(a.p)([])],t.prototype,"dataSource",void 0),p([Object(a.p)("expanded")],t.prototype,"expanded",void 0),p([Object(a.p)("hasChildren")],t.prototype,"hasChildren",void 0),p([Object(a.p)("htmlAttributes")],t.prototype,"htmlAttributes",void 0),p([Object(a.p)("iconCss")],t.prototype,"iconCss",void 0),p([Object(a.p)("id")],t.prototype,"id",void 0),p([Object(a.p)("imageUrl")],t.prototype,"imageUrl",void 0),p([Object(a.p)("isChecked")],t.prototype,"isChecked",void 0),p([Object(a.p)("parentID")],t.prototype,"parentID",void 0),p([Object(a.p)(null)],t.prototype,"query",void 0),p([Object(a.p)("selected")],t.prototype,"selected",void 0),p([Object(a.p)(null)],t.prototype,"tableName",void 0),p([Object(a.p)("text")],t.prototype,"text",void 0),p([Object(a.p)("tooltip")],t.prototype,"tooltip",void 0),p([Object(a.p)("navigateUrl")],t.prototype,"navigateUrl",void 0),t}(a.d),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),p([Object(a.p)("SlideDown")],t.prototype,"effect",void 0),p([Object(a.p)(400)],t.prototype,"duration",void 0),p([Object(a.p)("linear")],t.prototype,"easing",void 0),t}(a.d),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),p([Object(a.f)({effect:"SlideUp",duration:400,easing:"linear"},B)],t.prototype,"collapse",void 0),p([Object(a.f)({effect:"SlideDown",duration:400,easing:"linear"},B)],t.prototype,"expand",void 0),t}(a.d),P=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.isRefreshed=!1,s.preventExpand=!1,s.checkedElement=[],s.disableNode=[],s.validArr=[],s.expandChildren=[],s.isFieldChange=!1,s.changeDataSource=!1,s.isBlazorExpandedNodes=[],s.mouseDownStatus=!1,s}var i;return c(t,e),i=t,t.prototype.getModuleName=function(){return"treeview"},t.prototype.preRender=function(){var e=this;this.isBlazorPlatform=Object(a.I)()&&this.isServerRendered,this.checkActionNodes=[],this.parentNodeCheck=[],this.dragStartAction=!1,this.isAnimate=!1,this.keyConfigs={escape:"escape",end:"end",enter:"enter",f2:"f2",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",ctrlA:"ctrl+A",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space"},this.listBaseOption={expandCollapse:!0,showIcon:!0,expandIconClass:g,ariaAttributes:T,expandIconPosition:"Left",itemCreated:function(t){e.beforeNodeCreate(t)},enableHtmlSanitizer:this.enableHtmlSanitizer,itemNavigable:this.fullRowNavigable},this.updateListProp(this.fields),this.aniObj=new a.b({}),this.treeList=[],this.isLoaded=!1,this.isInitalExpand=!1,this.expandChildren=[],this.index=0,this.setTouchClass(),Object(a.J)(this.selectedNodes)&&this.setProperties({selectedNodes:[]},!0),Object(a.J)(this.checkedNodes)&&this.setProperties({checkedNodes:[]},!0),Object(a.J)(this.expandedNodes)?this.setProperties({expandedNodes:[]},!0):this.isInitalExpand=!0},t.prototype.getPersistData=function(){return this.addOnPersist(["selectedNodes","checkedNodes","expandedNodes"])},t.prototype.render=function(){this.initialRender=!0,this.blazorInitialRender=!1,this.initialize(),this.setDataBinding(!1),this.setDisabledMode(),this.setExpandOnType(),this.disabled||this.setRipple(),this.wireEditingEvents(this.allowEditing),this.setDragAndDrop(this.allowDragAndDrop),this.disabled||this.wireEvents(),this.isBlazorPlatform||(this.initialRender=!1),this.renderComplete()},t.prototype.initialize=function(){this.isBlazorPlatform||(this.element.setAttribute("role","tree"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active"),this.setCssClass(null,this.cssClass),this.setEnableRtl(),this.setFullRow(this.fullRowSelect)),this.nodeTemplateFn=this.templateComplier(this.nodeTemplate)},t.prototype.setDisabledMode=function(){this.disabled?this.element.classList.add("e-disabled"):this.element.classList.remove("e-disabled")},t.prototype.setEnableRtl=function(){(this.enableRtl?a.s:a.S)([this.element],"e-rtl")},t.prototype.setRipple=function(){var e={selector:".e-fullrow,.e-text-content",ignore:"."+C+" > ."+k+",.e-input-group,.e-input, ."+A};this.rippleFn=Object(a.U)(this.element,e);var t={selector:"."+C+" > ."+k,isCenterRipple:!0};this.rippleIconFn=Object(a.U)(this.element,t)},t.prototype.setFullRow=function(e){(e?a.s:a.S)([this.element],"e-fullrow-wrap")},t.prototype.setMultiSelect=function(e){var t=Object(a.V)("."+O,this.element);e?t.setAttribute("aria-multiselectable","true"):t.removeAttribute("aria-multiselectable")},t.prototype.templateComplier=function(e){if(e){this.element.classList.add("e-interaction");try{if(document.querySelectorAll(e).length)return Object(a.x)(document.querySelector(e).innerHTML.trim())}catch(t){return Object(a.x)(e)}}this.element.classList.remove("e-interaction")},t.prototype.setDataBinding=function(e){var t=this;this.treeList.push("false"),this.fields.dataSource instanceof n.a?(this.isOffline=this.isBlazorPlatform?this.fields.dataSource.offline:this.fields.dataSource.dataSource.offline,this.fields.dataSource.ready?this.fields.dataSource.ready.then((function(e){t.isOffline=t.isBlazorPlatform?t.fields.dataSource.offline:t.fields.dataSource.dataSource.offline,t.fields.dataSource instanceof n.a&&t.isOffline&&(t.treeList.pop(),t.treeData=e.result,t.isNumberTypeId=t.getType(),t.setRootData(),t.renderItems(!0),0!==t.treeList.length||t.isLoaded||t.finalize())})).catch((function(e){t.trigger("actionFailure",{error:e})})):this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then((function(i){t.treeList.pop(),t.treeData=i.result,t.isNumberTypeId=t.getType(),t.setRootData(),e&&(t.changeDataSource=!0),t.renderItems(!0),t.changeDataSource=!1,0!==t.treeList.length||t.isLoaded||t.finalize()})).catch((function(e){t.trigger("actionFailure",{error:e})}))):(this.treeList.pop(),Object(a.J)(this.fields.dataSource)?this.rootData=this.treeData=[]:(this.treeData=JSON.parse(JSON.stringify(this.fields.dataSource)),this.setRootData()),this.isNumberTypeId=this.getType(),this.renderItems(!1)),0!==this.treeList.length||this.isLoaded||this.finalize()},t.prototype.getQuery=function(e,t){void 0===t&&(t=null);var i,s=[];if(e.query)i=e.query.clone();else{i=new o.b;for(var n=this.getActualProperties(e),d=0,h=Object.keys(n);d<h.length;d++){var l=h[d];"dataSource"!==l&&"tableName"!==l&&"child"!==l&&e[l]&&"url"!==l&&-1===s.indexOf(e[l])&&s.push(e[l])}i.select(s),n.hasOwnProperty("tableName")&&i.from(e.tableName)}return r.a.addSorting(this.sortOrder,e.text,i),Object(a.J)(t)||Object(a.J)(e.parentID)||i.where(e.parentID,"equal",this.isNumberTypeId?parseFloat(t):t),i},t.prototype.getType=function(){return!!this.treeData[0]&&"number"==typeof Object(a.H)(this.fields.id,this.treeData[0])},t.prototype.setRootData=function(){if(this.dataType=this.getDataType(this.treeData,this.fields),1===this.dataType){this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID);var e=this.getChildNodes(this.treeData,void 0,!0);Object(a.J)(e)?this.rootData=[]:this.rootData=e}else this.rootData=this.treeData},t.prototype.renderItems=function(e){if(!this.isBlazorPlatform||this.isBlazorPlatform&&this.fields.dataSource instanceof n.a&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName||this.changeDataSource){this.listBaseOption.ariaAttributes.level=1;var t=this.getSortedData(this.rootData);this.ulElement=r.a.createList(this.createElement,e?this.rootData:t,this.listBaseOption),this.element.appendChild(this.ulElement);var i=this.ulElement.querySelectorAll(".e-list-item");if(!1===this.loadOnDemand)for(var s=0;s<i.length;)this.renderChildNodes(i[s],!0,null,!0),s++;(1===Object(a.W)("."+O,this.element).length&&i&&0!==i.length||this.loadOnDemand)&&this.finalizeNode(this.element)}this.updateTemplateForBlazor(),this.parentNodeCheck=[],this.parentCheckData=[],this.updateCheckedStateFromDS(),this.autoCheck&&this.showCheckBox&&!this.isLoaded&&this.updateParentCheckState()},t.prototype.updateTemplateForBlazor=function(){this.nodeTemplate&&this.isBlazorPlatform&&!this.isStringTemplate&&this.updateBlazorTemplate()},t.prototype.updateCheckedStateFromDS=function(e){if(this.treeData&&this.showCheckBox)if(1===this.dataType){for(var t=this.fields,i=new n.a(this.treeData).executeLocal((new o.b).where(t.isChecked,"equal",!0,!1)),s=0;s<i.length;s++){var r=i[s][this.fields.id]?i[s][this.fields.id].toString():null;i[s][this.fields.parentID]&&i[s][this.fields.parentID].toString();if(-1!==this.checkedNodes.indexOf(r)||this.isLoaded||this.checkedNodes.push(r),i[s][this.fields.hasChildren])for(var d=i[s][this.fields.id],h=new n.a(this.treeData).executeLocal((new o.b).where(t.parentID,"equal",d,!1)),l=0;l<h.length;l++){var c=h[l][this.fields.id]?h[l][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(c)&&this.autoCheck&&this.checkedNodes.push(c)}}for(s=0;s<this.checkedNodes.length;s++){var p=this.fields,u=new n.a(this.treeData).executeLocal((new o.b).where(p.id,"equal",this.checkedNodes[s],!0));u[0]&&this.autoCheck&&(this.getCheckedNodeDetails(p,u),this.checkIndeterminateState(u[0]));for(var f=new n.a(this.treeData).executeLocal((new o.b).where(p.parentID,"equal",this.checkedNodes[s],!0)),g=0;g<f.length;g++){var b=f[g][this.fields.id]?f[g][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(b)&&this.autoCheck&&this.checkedNodes.push(b)}}}else if(2===this.dataType||this.fields.dataSource instanceof n.a&&this.isOffline)for(g=0;g<this.treeData.length;g++){var v=this.treeData[g][this.fields.id]?this.treeData[g][this.fields.id].toString():"";this.treeData[g][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(v)&&this.checkedNodes.push(v);var O=Object(a.H)(this.fields.child.toString(),this.treeData[g]);O&&this.updateChildCheckState(O,this.treeData[g])}},t.prototype.getCheckedNodeDetails=function(e,t){var i=t[0][this.fields.parentID]?t[0][this.fields.parentID].toString():null,s=0,r=this.element.querySelector('[data-uid="'+t[0][this.fields.id]+'"]'),d=this.element.querySelector('[data-uid="'+t[0][this.fields.parentID]+'"]');if(r||d){if(d){Object(a.V)("."+E,d)||this.changeState(d,"indeterminate",null,!0,!0)}}else{this.parentNodeCheck.length;-1===this.parentNodeCheck.indexOf(i)&&this.parentNodeCheck.push(i);for(var h=this.getChildNodes(this.treeData,i),l=0;l<h.length;l++){var c=h[l][this.fields.id]?h[l][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(c)&&s++,s===h.length&&-1===this.checkedNodes.indexOf(i)&&this.checkedNodes.push(i)}var p=new n.a(this.treeData).executeLocal((new o.b).where(e.id,"equal",i,!0));this.getCheckedNodeDetails(e,p)}},t.prototype.updateParentCheckState=function(){for(var e,t=Object(a.W)(".e-stop",this.element),i=0;i<t.length;i++){var s=Object(a.w)(t[i],"."+b),r=s.getAttribute("data-uid").toString(),d=0;if(e=1===this.dataType?new n.a(this.treeData).executeLocal((new o.b).where(this.fields.parentID,"equal",r,!0)):this.getChildNodes(this.treeData,r)){for(var h=0;h<e.length;h++){var l=e[h][this.fields.id].toString();-1!==this.checkedNodes.indexOf(l)&&d++}if(d===e.length){var c=s.getAttribute("data-uid");-1===this.checkedNodes.indexOf(c)&&this.checkedNodes.push(c),this.changeState(s,"check",null,!0,!0)}else 0===d&&0===this.checkedNodes.length&&this.changeState(s,"uncheck",null,!0,!0)}}},t.prototype.checkIndeterminateState=function(e){var t;if(t=1===this.dataType?this.element.querySelector('[data-uid="'+e[this.fields.parentID]+'"]'):this.element.querySelector('[data-uid="'+e[this.fields.id]+'"]'))"true"!==t.querySelector("."+A).getAttribute("aria-checked")&&this.changeState(t,"indeterminate",null,!0,!0);else if(2===this.dataType){this.parentNodeCheck.length;-1===this.parentNodeCheck.indexOf(e[this.fields.id].toString())&&this.parentNodeCheck.push(e[this.fields.id].toString())}},t.prototype.updateChildCheckState=function(e,t){for(var i=0,s=t[this.fields.id]?t[this.fields.id].toString():"",n=0;n<e.length;n++){var o=e[n][this.fields.id]?e[n][this.fields.id].toString():"";e[n][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(o)&&this.checkedNodes.push(o),-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(o)&&this.autoCheck&&this.checkedNodes.push(o),-1!==this.checkedNodes.indexOf(o)&&this.autoCheck&&i++;var r=Object(a.H)(this.fields.child.toString(),e[n]);r&&(this.parentCheckData.push(t),this.updateChildCheckState(r,e[n])),i===e.length&&this.autoCheck&&-1===this.checkedNodes.indexOf(s)&&this.checkedNodes.push(s)}if(0!==i&&this.autoCheck){this.checkIndeterminateState(t);for(var d=0;d<this.parentCheckData.length;d++)t!==this.parentCheckData[d]&&this.parentCheckData[d]&&this.checkIndeterminateState(this.parentCheckData[d])}this.parentCheckData=[]},t.prototype.beforeNodeCreate=function(e){if(this.showCheckBox){var t=Object(d.a)(this.createElement,!0,{cssClass:this.touchClass});t.setAttribute("role","checkbox");var i=Object(a.V)("div."+k,e.item),s=e.item.getAttribute("data-uid");e.item.childNodes[0].insertBefore(t,e.item.childNodes[0].childNodes[Object(a.J)(i)?0:1]);var n=Object(a.H)(e.fields.isChecked,e.curData);this.checkedNodes.indexOf(s)>-1?(Object(a.V)(".e-frame",t).classList.add(E),t.setAttribute("aria-checked","true"),this.addCheck(e.item)):Object(a.J)(n)||"true"!==n.toString()?t.setAttribute("aria-checked","false"):(Object(a.V)(".e-frame",t).classList.add(E),t.setAttribute("aria-checked","true"),this.addCheck(e.item));var o=Object(a.V)(".e-frame",t);a.k.add(o,"mousedown",this.frameMouseHandler,this),a.k.add(o,"mouseup",this.frameMouseHandler,this)}this.fullRowSelect&&this.createFullRow(e.item),this.allowMultiSelection&&!e.item.classList.contains(w)&&e.item.setAttribute("aria-selected","false");var r=e.fields;if(this.addActionClass(e,r.selected,w),this.addActionClass(e,r.expanded,"e-expanded"),!Object(a.J)(this.nodeTemplateFn)){var h=e.item.querySelector("."+v),l=e.item.getAttribute("data-uid");h.innerHTML="",this.renderNodeTemplate(e.curData,h,l)}var c={node:e.item,nodeData:e.curData,text:e.text};this.isRefreshed||this.trigger("drawNode",c)},t.prototype.frameMouseHandler=function(e){var t=Object(a.V)(".e-ripple-container",e.target.parentElement);Object(d.c)(e,t)},t.prototype.addActionClass=function(e,t,i){var s=e.curData,n=Object(a.H)(t,s);Object(a.J)(n)||"false"===n.toString()||e.item.classList.add(i)},t.prototype.getDataType=function(e,t){if(this.fields.dataSource instanceof n.a&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName){for(var i=0;i<e.length;i++)if(this.isOffline){if("string"==typeof t.child&&Object(a.J)(Object(a.H)(t.child,e[i]))&&!Object(a.J)(Object(a.H)(t.parentID,e[i])))return 1}else if("string"==typeof t.child&&Object(a.J)(Object(a.H)(t.child,e[i])))return 1;return 2}i=0;for(var s=e.length;i<s;i++){if("string"==typeof t.child&&!Object(a.J)(Object(a.H)(t.child,e[i])))return 2;if(!Object(a.J)(Object(a.H)(t.parentID,e[i]))||!Object(a.J)(Object(a.H)(t.hasChildren,e[i])))return 1}return 1},t.prototype.getGroupedData=function(e,t){for(var i=(new o.b).group(t),s=r.a.getDataSource(e,i),a=[],n=0;n<s.length;n++){var d=s[n].items;a.push(d)}return a},t.prototype.getSortedData=function(e){return e&&"None"!==this.sortOrder&&(e=r.a.getDataSource(e,r.a.addSorting(this.sortOrder,this.fields.text))),e},t.prototype.finalizeNode=function(e){for(var t=Object(a.W)(".e-list-img",e),i=0;i<t.length;i++)t[i].setAttribute("alt","e-list-img");if(this.isLoaded){for(var s=Object(a.W)("."+w,e),n=0;n<s.length;n++){this.selectNode(s[n],null);break}Object(a.S)(s,w)}for(var o=Object(a.W)("."+b+":not(.e-expanded)",e),r=0;r<o.length;r++){var d=Object(a.V)("div."+k,o[r]);d&&d.classList.contains(g)&&this.disableExpandAttr(o[r])}var h=Object(a.W)(".e-expanded",e);if(!this.isInitalExpand)for(n=0;n<h.length;n++)this.renderChildNodes(h[n]);Object(a.S)(h,"e-expanded"),this.updateList(),this.isLoaded&&this.updateCheckedProp()},t.prototype.updateCheckedProp=function(){if(this.showCheckBox){var e=[].concat([],this.checkedNodes);this.setProperties({checkedNodes:e},!0)}},t.prototype.ensureIndeterminate=function(){if(this.autoCheck)for(var e=Object(a.W)("li",this.element),t=0;t<e.length;t++)e[t].classList.contains(b)&&(Object(a.V)("."+O,e[t])?this.ensureParentCheckState(e[t]):this.ensureChildCheckState(e[t]));else{var i=Object(a.W)(".e-stop",this.element);for(t=0;t<i.length;t++)i[t].classList.remove("e-stop")}},t.prototype.ensureParentCheckState=function(e){if(!Object(a.J)(e)){if(e.classList.contains(u))return;var t=e;e.classList.contains(b)&&(t=Object(a.V)("."+O,e));var i=Object(a.W)("."+E,t),s=Object(a.W)(".e-stop",t),n=Object(a.W)("."+b,t),o=e.getElementsByClassName(A)[0];n.length===i.length?this.changeState(o,"check",null,!0,!0):i.length>0||s.length>0?this.changeState(o,"indeterminate",null,!0,!0):0===i.length&&this.changeState(o,"uncheck",null,!0,!0);var r=Object(a.w)(e,"."+O);if(!Object(a.J)(r)){var d=Object(a.w)(r,"."+b);this.ensureParentCheckState(d)}}},t.prototype.ensureChildCheckState=function(e,t){if(!Object(a.J)(e)){var i=Object(a.V)("."+O,e),s=void 0;if(!Object(a.J)(i)){s=Object(a.W)("."+A,i);for(var n=e.getElementsByClassName("e-frame")[0].classList.contains(E),o=e.getElementsByClassName("e-frame")[0].classList.contains("e-stop"),r=i.querySelectorAll("li"),d=(i.parentElement.getAttribute("aria-expanded"),void 0),h=0;h<s.length;h++){var l=r[h].getAttribute("data-uid");if(Object(a.J)(this.currentLoadData)||Object(a.J)(Object(a.H)(this.fields.isChecked,this.currentLoadData[h]))){var c=s[h].getElementsByClassName("e-frame")[0].classList.contains(E);n||c&&!this.isLoaded||-1!==this.checkedNodes.indexOf(l)&&this.isLoaded&&(o||n)?d="check":r[h].classList.contains("e-has-child")&&!Object(a.M)(this.parentNodeCheck)&&this.autoCheck&&(n||o)&&-1!==this.parentNodeCheck.indexOf(l)||1===this.dataType&&!Object(a.M)(this.parentNodeCheck)&&this.autoCheck&&(n||o)&&-1!==this.parentNodeCheck.indexOf(l)?(d="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)):d="uncheck"}else d=Object(a.H)(this.fields.isChecked,this.currentLoadData[h])?"check":"uncheck",-1!==this.ele&&(d=n?"check":"uncheck"),"uncheck"===d&&!Object(a.M)(this.parentNodeCheck)&&this.autoCheck&&-1!==this.parentNodeCheck.indexOf(l)&&(this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1),d="indeterminate");this.changeState(s[h],d,t,!0,!0)}}this.autoCheck&&this.isLoaded&&this.updateParentCheckState()}},t.prototype.doCheckBoxAction=function(e,t){Object(a.W)("."+b,this.element);if(Object(a.J)(e)){var i=Object(a.W)("."+A,this.element);if(this.loadOnDemand)for(var s=0;s<i.length;s++)this.updateFieldChecked(i[s],t),this.changeState(i[s],t?"check":"uncheck",null,null,null,t);else for(s=0;s<i.length;s++)this.updateFieldChecked(i[s],t),this.changeState(i[s],t?"check":"uncheck")}else for(var n=e.length;n>=0;n--){var o=void 0;if(o=1===e.length?this.getElement(e[n-1]):this.getElement(e[n]),Object(a.J)(o)){var r=void 0;if(""!==(r=e[n-e.length]?e[n-e.length].toString():e[n]?e[n].toString():null)&&t&&r)this.setValidCheckedNode(r),this.dynamicCheckState(r,t);else if(-1!==this.checkedNodes.indexOf(r)&&""!==r&&!t){this.checkedNodes.splice(this.checkedNodes.indexOf(r),1);var d=this.getChildNodes(this.treeData,r);if(d){for(var h=0;h<d.length;h++){var l=d[h][this.fields.id]?d[h][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(l)&&this.checkedNodes.splice(this.checkedNodes.indexOf(l),1)}-1!==this.parentNodeCheck.indexOf(r)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(r),1)}r&&this.dynamicCheckState(r,t),this.updateField(this.treeData,this.fields,r,"isChecked",null)}}else{var c=Object(a.V)("."+O+" ."+A,o);this.validateCheckNode(c,!t,o,null)}}if(e)for(var p=0;p<e.length;p++){r=e[p]?e[p].toString():"";t||this.updateField(this.treeData,this.fields,r,"isChecked",null)}this.autoCheck&&this.updateParentCheckState()},t.prototype.updateFieldChecked=function(e,t){var i=Object(a.w)(e,"."+b),s=i.getAttribute("data-uid");"true"!==this.getNodeData(i).isChecked||t||this.updateField(this.treeData,this.fields,s,"isChecked",null)},t.prototype.dynamicCheckState=function(e,t){if(1===this.dataType){var i=0,s=new n.a(this.treeData).executeLocal((new o.b).where(this.fields.id,"equal",e,!0));if(s[0]){var r=s[0][this.fields.id]?s[0][this.fields.id].toString():null,d=s[0][this.fields.parentID]?s[0][this.fields.parentID].toString():null,h=((f=this.element.querySelector('[data-uid="'+d+'"]'))&&Object(a.V)(".e-stop",f),f?Object(a.V)("."+E,f):null),l=this.element.querySelector('[data-uid="'+r+'"]'),c=this.getChildNodes(this.treeData,d);if(c)for(var p=0;p<c.length;p++){var u=c[p][this.fields.id]?c[p][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(u)&&i++}-1!==this.checkedNodes.indexOf(e)&&f&&r===e&&this.autoCheck?this.changeState(f,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&l&&r===e&&!t?this.changeState(l,"uncheck",null):-1!==this.checkedNodes.indexOf(e)&&l&&r===e&&t?this.changeState(l,"check",null):-1===this.checkedNodes.indexOf(e)&&!l&&f&&r===e&&this.autoCheck&&0!==i?this.changeState(f,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&!l&&f&&r===e&&this.autoCheck&&0===i?this.changeState(f,"uncheck",null):l||f||r!==e||!this.autoCheck||this.updateIndeterminate(e,t)}}else if(2===this.dataType||this.fields.dataSource instanceof n.a&&this.isOffline){r=void 0;var f=void 0;for(h=void 0,p=0;p<this.treeData.length;p++){r=this.treeData[p][this.fields.id]?this.treeData[p][this.fields.id].toString():"",h=(f=this.element.querySelector('[data-uid="'+r+'"]'))?Object(a.V)("."+E,f):null,-1===this.checkedNodes.indexOf(r)&&f&&h&&!t&&this.changeState(f,"uncheck",null);var g=Object(a.H)(this.fields.child.toString(),this.treeData[p]);g&&this.updateChildIndeterminate(g,r,e,t,r)}}},t.prototype.updateIndeterminate=function(e,t){var i,s=this.getTreeData(e),a=0;1===this.dataType&&(i=s[0][this.fields.parentID]?s[0][this.fields.parentID].toString():null);var n=this.getChildNodes(this.treeData,i);if(n)for(var o=0;o<n.length;o++){var r=n[o][this.fields.id]?n[o][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(r)&&a++}var d=this.element.querySelector('[data-uid="'+i+'"]');d&&t||!t&&d&&-1===this.parentNodeCheck.indexOf(i)&&0!==a?this.changeState(d,"indeterminate",null):!t&&d&&-1===this.parentNodeCheck.indexOf(i)&&0===a?this.changeState(d,"uncheck",null):d||(t||-1!==this.checkedNodes.indexOf(i)||-1===this.parentNodeCheck.indexOf(i)?t&&-1===this.checkedNodes.indexOf(i)&&-1===this.parentNodeCheck.indexOf(i)?this.parentNodeCheck.push(i):t||-1===this.checkedNodes.indexOf(i)||-1!==this.parentNodeCheck.indexOf(i)||0===a||this.parentNodeCheck.push(i):this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(i),1),this.updateIndeterminate(i,t),-1===this.checkedNodes.indexOf(i)||t||this.checkedNodes.splice(this.checkedNodes.indexOf(i),1))},t.prototype.updateChildIndeterminate=function(e,t,i,s,n){for(var o=0,r=0;r<e.length;r++){var d=e[r][this.fields.id]?e[r][this.fields.id].toString():"";-1!==this.checkedNodes.indexOf(d)&&o++;var h=this.element.querySelector('[data-uid="'+t+'"]'),l=h?Object(a.V)(".e-stop",h):null,c=h?Object(a.V)("."+E,h):null,p=this.element.querySelector('[data-uid="'+d+'"]'),u=p?Object(a.V)("."+E,p):null;if(-1!==this.checkedNodes.indexOf(i)&&h&&d===i&&this.autoCheck)this.changeState(h,"indeterminate",null);else if(-1!==this.checkedNodes.indexOf(i)||!h||p||d!==i||s){if(-1===this.checkedNodes.indexOf(i)&&p&&d===i&&!s)this.changeState(p,"uncheck",null);else if(-1===this.checkedNodes.indexOf(i)&&l&&d===i&&this.autoCheck&&0===o&&!s)l.classList.remove("e-stop");else if(-1===this.checkedNodes.indexOf(i)&&!p&&c&&d===i&&0===o)this.changeState(h,"uncheck",null);else if(-1===this.checkedNodes.indexOf(d)&&p&&u&&0===o)this.changeState(p,"uncheck",null);else if(!p&&!h&&d===i||-1!==this.parentNodeCheck.indexOf(t)&&this.autoCheck){var f=this.element.querySelector('[data-uid="'+n+'"]');s&&0!==o?this.changeState(f,"indeterminate",null):s&&o===e.length&&-1===this.checkedNodes.indexOf(t)?this.checkedNodes.push(t):s||0!==o||-1===this.parentNodeCheck.indexOf(t)||this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(t)),-1===this.parentNodeCheck.indexOf(t)&&this.parentNodeCheck.push(t)}}else this.autoCheck?this.changeState(h,"uncheck",null):0!==o?this.changeState(h,"indeterminate",null):this.changeState(h,"uncheck",null);var g=Object(a.H)(this.fields.child.toString(),e[r]);g&&this.updateChildIndeterminate(g,d,i,s,n)}},t.prototype.changeState=function(e,t,i,s,n,o){var r,d=this,h=Object(a.w)(e,"."+b);s?this.nodeCheckAction(e,t,h,r,i,s,n,o):(this.checkActionNodes=[],r=this.getCheckEvent(h,t,i),this.trigger("nodeChecking",r,(function(a){a.cancel||d.nodeCheckAction(e,t,h,a,i,s,n,o)})))},t.prototype.nodeCheckAction=function(e,t,i,s,n,o,r,d){var h,l=e.getElementsByClassName("e-frame")[0];if("check"!==t||l.classList.contains(E)?"uncheck"===t&&(l.classList.contains(E)||l.classList.contains("e-stop"))?(Object(a.S)([l],[E,"e-stop"]),this.removeCheck(i),h="false"):"indeterminate"===t&&this.autoCheck&&(l.classList.remove(E),l.classList.add("e-stop"),this.removeCheck(i),h="mixed"):(l.classList.remove("e-stop"),l.classList.add(E),this.addCheck(i),h="true"),h="check"===t?"true":"uncheck"===t?"false":h,Object(a.J)(h)||e.setAttribute("aria-checked",h),r){var c=[].concat([],this.checkActionNodes);s=this.getCheckEvent(i,t,n),Object(a.M)(o)&&(s.data=c)}void 0!==d&&this.ensureStateChange(i,d),o||Object(a.J)(h)||(e.setAttribute("aria-checked",h),this.allowServerDataBinding=!0,this.updateServerProperties("check"),this.allowServerDataBinding=!1,s.data[0].checked=h,this.trigger("nodeChecked",s),this.checkActionNodes=[])},t.prototype.addCheck=function(e){var t=e.getAttribute("data-uid");Object(a.J)(t)||-1!==this.checkedNodes.indexOf(t)||this.checkedNodes.push(t)},t.prototype.removeCheck=function(e){var t=this.checkedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.checkedNodes.splice(t,1)},t.prototype.getCheckEvent=function(e,t,i){this.checkActionNodes.push(this.getNodeData(e));var s=this.checkActionNodes;return{action:t,cancel:!1,isInteracted:!Object(a.J)(i),node:e,data:s}},t.prototype.finalize=function(){var e=Object(a.V)("."+O,this.element);if(!Object(a.J)(e)){e.setAttribute("role",T.treeRole),this.setMultiSelect(this.allowMultiSelection);var t=Object(a.V)("."+b,this.element);t&&(Object(a.s)([t],L),this.updateIdAttr(null,t)),this.renderReactTemplates(),this.hasPid=!!this.rootData[0]&&this.rootData[0].hasOwnProperty(this.fields.parentID),this.doExpandAction()}},t.prototype.doExpandAction=function(){var e=this.expandedNodes;if(this.isInitalExpand&&e.length>0){if(this.setProperties({expandedNodes:[]},!0),this.isBlazorPlatform&&!this.initialRender)return;if(this.fields.dataSource instanceof n.a&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName)this.expandGivenNodes(e);else{for(var t=0;t<e.length;t++){var i=Object(a.V)('[data-uid="'+e[t]+'"]',this.element);if(Object(a.J)(i))e[t]&&-1===this.expandChildren.indexOf(e[t])&&this.expandChildren.push(e[t].toString());else{var s=Object(a.V)("."+g,Object(a.V)("."+C,i));Object(a.J)(s)||this.expandAction(i,s,null)}}this.afterFinalized()}}else this.afterFinalized()},t.prototype.expandGivenNodes=function(e){var t=this;this.expandCallback(e[this.index],(function(){t.index++,t.index<e.length?t.expandGivenNodes(e):t.afterFinalized()}))},t.prototype.expandCallback=function(e,t){var i=Object(a.V)('[data-uid="'+e+'"]',this.element);if(Object(a.J)(i))t();else{var s=Object(a.V)("."+g,Object(a.V)("."+C,i));Object(a.J)(s)?t():this.expandAction(i,s,null,!1,t)}},t.prototype.afterFinalized=function(){if((!this.isBlazorPlatform||this.isBlazorPlatform&&!this.initialRender)&&this.doSelectionAction(),this.updateCheckedProp(),this.isBlazorPlatform&&(this.initialRender&&this.setCheckedNodes(this.checkedNodes),this.updateInstance(),this.initialRender=!1),this.isAnimate=!0,this.isInitalExpand=!1,!this.isLoaded||this.isFieldChange){var e={data:this.treeData};this.trigger("dataBound",e)}this.isLoaded=!0},t.prototype.doSelectionAction=function(){var e=Object(a.W)("."+w,this.element),t=this.selectedNodes;if(t.length>0){this.setProperties({selectedNodes:[]},!0);for(var i=0;i<t.length;i++){var s=Object(a.V)('[data-uid="'+t[i]+'"]',this.element);if(s&&!s.classList.contains("e-active")?this.selectNode(s,null,!0):this.selectedNodes.push(t[i]),!this.allowMultiSelection)break}}else this.selectGivenNodes(e);Object(a.S)(e,w)},t.prototype.selectGivenNodes=function(e){for(var t=0;t<e.length&&(e[t].classList.contains("e-disable")||this.selectNode(e[t],null,!0),this.allowMultiSelection);t++);},t.prototype.clickHandler=function(e){var t=e.originalEvent.target;if(a.k.remove(this.element,"contextmenu",this.preventContextMenu),t&&!this.dragStartAction){var i=t.classList,s=Object(a.w)(t,"."+b);if(s){if(3!==e.originalEvent.which){var n=Object(a.V)(".e-ripple-element",s),o=Object(a.V)("."+k,s);if(this.removeHover(),this.setFocusElement(s),this.showCheckBox&&!s.classList.contains("e-disable")){var r=Object(a.w)(t,"."+A);if(!Object(a.J)(r)){var d=Object(a.V)(".e-frame",r);return this.validateCheckNode(r,d.classList.contains(E),s,e.originalEvent),void this.triggerClickEvent(e.originalEvent,s)}}i.contains(g)?this.expandAction(s,t,e):i.contains(f)?this.collapseNode(s,t,e):n&&o?o.classList.contains("e-ripple")&&o.classList.contains(g)?this.expandAction(s,o,e):o.classList.contains("e-ripple")&&o.classList.contains(f)?this.collapseNode(s,o,e):i.contains(O)||i.contains(b)||this.toggleSelect(s,e.originalEvent,!1):i.contains(O)||i.contains(b)||this.toggleSelect(s,e.originalEvent,!1)}this.triggerClickEvent(e.originalEvent,s)}}},t.prototype.nodeCheckedEvent=function(e,t,i){Object(a.w)(e,"."+b);var s=this.getCheckEvent(e,t?"uncheck":"check",i);s.data=s.data.splice(0,s.data.length-1),this.trigger("nodeChecked",s)},t.prototype.triggerClickEvent=function(e,t){var i={event:e,node:t};this.trigger("nodeClicked",i)},t.prototype.expandNode=function(e,t,i){var s=this;if(this.renderReactTemplates(),t.classList.contains(N)&&this.hideSpinner(t),this.initialRender||t.classList.add("interaction"),!0!==i||!0===i&&e.classList.contains("e-expanded")){if(!0!==this.preventExpand){Object(a.S)([t],g),Object(a.s)([t],f);var o=0,r=0,d=this,h=Object(a.V)("."+O,e),l=e;this.setHeight(l,h);var c=Object(a.V)("."+b+"."+m,e);this.isAnimate&&!this.isRefreshed?this.aniObj.animate(h,{name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing,begin:function(t){l.style.overflow="hidden",!Object(a.J)(c)&&c instanceof HTMLElement&&c.classList.add("e-animation-active"),o=l.offsetHeight,r=Object(a.V)("."+C,e).offsetHeight},progress:function(e){e.element.style.display="block",d.animateHeight(e,o,r)},end:function(e){e.element.style.display="block",!Object(a.J)(c)&&c instanceof HTMLElement&&c.classList.remove("e-animation-active"),s.expandedNode(l,h,t)}}):this.expandedNode(l,h,t)}}else Object(a.V)("."+O,e).style.display="none",this.fields.dataSource instanceof n.a==!0&&(this.preventExpand=!1);this.initialRender&&t.classList.add("interaction")},t.prototype.expandedNode=function(e,t,i){t.style.display="block",e.style.display="block",e.style.overflow="",e.style.height="",Object(a.S)([i],y),this.addExpand(e),this.allowServerDataBinding=!0,this.updateServerProperties("expand"),this.allowServerDataBinding=!1,this.isLoaded&&this.expandArgs&&!this.isRefreshed&&(this.expandArgs=this.getExpandEvent(e,null),this.trigger("nodeExpanded",this.expandArgs))},t.prototype.addExpand=function(e){e.setAttribute("aria-expanded","true"),Object(a.S)([e],"e-node-collapsed");var t=e.getAttribute("data-uid");Object(a.J)(t)||-1!==this.expandedNodes.indexOf(t)||this.expandedNodes.push(t)},t.prototype.collapseNode=function(e,t,i){var s,n=this;t.classList.contains(y)||(Object(a.s)([t],y),this.isLoaded?(s=this.getExpandEvent(e,i),this.trigger("nodeCollapsing",s,(function(i){i.cancel?Object(a.S)([t],y):n.nodeCollapseAction(e,t,i)}))):this.nodeCollapseAction(e,t,s))},t.prototype.nodeCollapseAction=function(e,t,i){var s=this;Object(a.S)([t],f),Object(a.s)([t],g);var n=0,o=0,r=this,d=Object(a.V)("."+O,e),h=e,l=Object(a.V)("."+b+"."+m,e);this.isAnimate?this.aniObj.animate(d,{name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing,begin:function(t){h.style.overflow="hidden",!Object(a.J)(l)&&l instanceof HTMLElement&&l.classList.add("e-animation-active"),n=Object(a.V)("."+C,e).offsetHeight,o=h.offsetHeight},progress:function(e){r.animateHeight(e,n,o)},end:function(e){e.element.style.display="none",!Object(a.J)(l)&&l instanceof HTMLElement&&l.classList.remove("e-animation-active"),s.collapsedNode(h,d,t,i)}}):this.collapsedNode(h,d,t,i)},t.prototype.collapsedNode=function(e,t,i,s){t.style.display="none",e.style.overflow="",e.style.height="",Object(a.S)([i],y),this.allowServerDataBinding=!0,this.updateServerProperties("expand"),this.allowServerDataBinding=!1,this.removeExpand(e),this.isLoaded&&(s=this.getExpandEvent(e,null),this.trigger("nodeCollapsed",s))},t.prototype.removeExpand=function(e,t){t?e.removeAttribute("aria-expanded"):this.disableExpandAttr(e);var i=this.expandedNodes.indexOf(e.getAttribute("data-uid"));i>-1&&this.expandedNodes.splice(i,1)},t.prototype.disableExpandAttr=function(e){e.setAttribute("aria-expanded","false"),Object(a.s)([e],"e-node-collapsed")},t.prototype.setHeight=function(e,t){t.style.display="block",t.style.visibility="hidden",e.style.height=e.offsetHeight+"px",t.style.display="none",t.style.visibility=""},t.prototype.animateHeight=function(e,t,i){var s=(i-t)*((e.duration-e.timeStamp)/e.duration)+t;e.element.parentElement.style.height=s+"px"},t.prototype.renderChildNodes=function(e,t,i,s){var o,d=this,h=Object(a.V)("div."+k,e);if(!Object(a.J)(h))if(this.showSpinner(h),this.fields.dataSource instanceof n.a&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName){var l=this.parents(e,"."+O).length,c=this.getChildFields(this.fields,l,1);if(Object(a.J)(c)||Object(a.J)(c.dataSource))return Object(a.A)(h),void this.removeExpand(e,!0);this.treeList.push("false"),this.fields.dataSource instanceof n.a&&this.isOffline?(this.treeList.pop(),o=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.loadChild(o,c,h,e,t,i,s),this.updateTemplateForBlazor()):c.dataSource.executeQuery(this.getQuery(c,e.getAttribute("data-uid"))).then((function(a){d.treeList.pop(),o=a.result,1===d.dataType&&(d.dataType=2),d.loadChild(o,c,h,e,t,i,s),d.updateTemplateForBlazor()})).catch((function(e){d.trigger("actionFailure",{error:e})}))}else{if(o=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.currentLoadData=this.getSortedData(o),Object(a.J)(o)||0===o.length)return Object(a.A)(h),void this.removeExpand(e,!0);this.isBlazorPlatform&&this.initialRender||(this.listBaseOption.ariaAttributes.level=parseFloat(e.getAttribute("aria-level"))+1,e.appendChild(r.a.createList(this.createElement,this.currentLoadData,this.listBaseOption))),this.expandNode(e,h,s),this.setSelectionForChildNodes(o),this.ensureCheckNode(e),this.finalizeNode(e),this.loadOnDemand&&this.nodeTemplate&&this.isBlazorPlatform&&!this.isStringTemplate&&this.updateBlazorTemplate(),this.disableTreeNodes(o),this.renderSubChild(e,t,s)}},t.prototype.loadChild=function(e,t,i,s,o,d,h){if(this.currentLoadData=e,Object(a.J)(e)||0===e.length)Object(a.A)(i),this.removeExpand(s,!0);else{if(this.updateListProp(t),this.fields.dataSource instanceof n.a&&!this.isOffline){var l=s.getAttribute("data-uid"),c=this.getNodeObject(l);Object(a.Z)("child",e,c)}this.listBaseOption.ariaAttributes.level=parseFloat(s.getAttribute("aria-level"))+1,s.appendChild(r.a.createList(this.createElement,e,this.listBaseOption)),this.expandNode(s,i,h),this.setSelectionForChildNodes(e),this.ensureCheckNode(s),this.finalizeNode(s),this.disableTreeNodes(e),this.renderSubChild(s,o,h)}d&&d(),0!==this.treeList.length||this.isLoaded||this.finalize()},t.prototype.disableTreeNodes=function(e){for(var t=0;t<e.length;){var i=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.disableNode&&-1!==this.disableNode.indexOf(i)&&this.doDisableAction([i]),t++}},t.prototype.setSelectionForChildNodes=function(e){var t;for(t=0;t<e.length;t++){var i=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.selectedNodes&&-1!==this.selectedNodes.indexOf(i)&&this.doSelectionAction()}},t.prototype.ensureCheckNode=function(e){this.showCheckBox&&(this.ele=this.checkedElement?this.checkedElement.indexOf(e.getAttribute("data-uid")):null,this.autoCheck&&(this.ensureChildCheckState(e),this.ensureParentCheckState(e))),this.currentLoadData=null},t.prototype.getFields=function(e,t,i){return t===i?e:this.getFields(this.getChildMapper(e),t,i+1)},t.prototype.getChildFields=function(e,t,i){return t===i?this.getChildMapper(e):this.getChildFields(this.getChildMapper(e),t,i+1)},t.prototype.getChildMapper=function(e){return"string"==typeof e.child||Object(a.J)(e.child)?e:e.child},t.prototype.getChildNodes=function(e,t,i){var s;if(void 0===i&&(i=!1),Object(a.J)(e))return s;if(1===this.dataType)return this.getChildGroup(this.groupedData,t,i);if("string"==typeof this.fields.child)for(var n=0,o=e.length;n<o;n++){var r=Object(a.H)(this.fields.id,e[n]);if(r&&r.toString()===t)return Object(a.H)(this.fields.child,e[n]);if(!Object(a.J)(Object(a.H)(this.fields.child,e[n]))&&void 0!==(s=this.getChildNodes(Object(a.H)(this.fields.child,e[n]),t)))break}return s},t.prototype.getChildGroup=function(e,t,i){if(!Object(a.J)(e))for(var s=0,n=e.length;s<n;s++){if(Object(a.J)(e[s][0])||Object(a.J)(Object(a.H)(this.fields.parentID,e[s][0])))return i?e[s]:[];if(Object(a.H)(this.fields.parentID,e[s][0]).toString()===t)return e[s]}},t.prototype.renderSubChild=function(e,t,i){if(t)for(var s=Object(a.W)("."+g,e),n=0,o=s.length;n<o;n++){var r=s[n];if(e.querySelector(".e-icons")!==s[n]){var d=Object(a.w)(r,"."+b);this.expandArgs=this.getExpandEvent(d,null),!0!==i&&this.trigger("nodeExpanding",this.expandArgs),this.renderChildNodes(d,t,null,i)}}},t.prototype.toggleSelect=function(e,t,i){e.classList.contains("e-disable")||(this.allowMultiSelection&&(t&&t.ctrlKey||i)&&this.isActive(e)?this.unselectNode(e,t):this.selectNode(e,t,i))},t.prototype.isActive=function(e){return!!e.classList.contains(m)},t.prototype.selectNode=function(e,t,i){var s,n=this;Object(a.J)(e)||!this.allowMultiSelection&&this.isActive(e)&&!Object(a.J)(t)?this.setFocusElement(e):this.isLoaded?(s=this.getSelectEvent(e,"select",t),this.trigger("nodeSelecting",s,(function(s){s.cancel||n.nodeSelectAction(e,t,s,i)}))):this.nodeSelectAction(e,t,s,i)},t.prototype.nodeSelectAction=function(e,t,i,s){if(this.allowMultiSelection&&(s||t&&(!t||t.ctrlKey))||this.removeSelectAll(),this.allowMultiSelection&&t&&t.shiftKey){this.startNode||(this.startNode=e);var n=this.liList.indexOf(this.startNode),o=this.liList.indexOf(e);if(n>o){var r=n;n=o,o=r}for(var d=n;d<=o;d++){var h=this.liList[d];Object(a.N)(h)&&!h.classList.contains("e-disable")&&this.addSelect(h)}}else this.startNode=e,this.addSelect(e);this.setFocusElement(e),this.isLoaded&&(this.allowServerDataBinding=!0,this.updateServerProperties("select"),this.allowServerDataBinding=!1,i.nodeData=this.getNodeData(e),this.trigger("nodeSelected",i))},t.prototype.unselectNode=function(e,t){var i,s=this;this.isLoaded?(i=this.getSelectEvent(e,"un-select",t),this.trigger("nodeSelecting",i,(function(t){t.cancel||(s.allowServerDataBinding=!0,s.updateServerProperties("select"),s.allowServerDataBinding=!1,s.nodeUnselectAction(e,t))}))):this.nodeUnselectAction(e,i)},t.prototype.nodeUnselectAction=function(e,t){this.removeSelect(e),this.setFocusElement(e),this.isLoaded&&(this.allowServerDataBinding=!0,this.updateServerProperties("select"),this.allowServerDataBinding=!1,t.nodeData=this.getNodeData(e),this.trigger("nodeSelected",t))},t.prototype.setFocusElement=function(e){if(!Object(a.J)(e)){var t=this.getFocusedNode();t&&Object(a.S)([t],L),Object(a.s)([e],L),this.updateIdAttr(t,e)}},t.prototype.addSelect=function(e){e.setAttribute("aria-selected","true"),Object(a.s)([e],m);var t=e.getAttribute("data-uid");Object(a.J)(t)||-1!==this.selectedNodes.indexOf(t)||this.selectedNodes.push(t)},t.prototype.removeSelect=function(e){this.allowMultiSelection?e.setAttribute("aria-selected","false"):e.removeAttribute("aria-selected"),Object(a.S)([e],m);var t=this.selectedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.selectedNodes.splice(t,1)},t.prototype.removeSelectAll=function(){for(var e=this.element.querySelectorAll("."+m),t=0,i=e;t<i.length;t++){var s=i[t];this.allowMultiSelection?s.setAttribute("aria-selected","false"):s.removeAttribute("aria-selected")}Object(a.S)(e,m),this.setProperties({selectedNodes:[]},!0)},t.prototype.getSelectEvent=function(e,t,i){var s=this.getNodeData(e);return{action:t,cancel:!1,isInteracted:!Object(a.J)(i),node:e,nodeData:s}},t.prototype.setExpandOnType=function(){this.expandOnType="Auto"===this.expandOn?a.c.isDevice?"Click":"DblClick":this.expandOn},t.prototype.expandHandler=function(e){var t=e.originalEvent.target;!t||t.classList.contains("e-input")||t.classList.contains(u)||t.classList.contains(O)||t.classList.contains(b)||t.classList.contains(k)||this.showCheckBox&&Object(a.w)(t,"."+A)||this.expandCollapseAction(Object(a.w)(t,"."+b),e)},t.prototype.expandCollapseAction=function(e,t){var i=Object(a.V)("div."+k,e);if(i&&!i.classList.contains(y)){var s=i.classList;s.contains(g)?this.expandAction(e,i,t):s.contains(f)&&this.collapseNode(e,i,t)}},t.prototype.expandAction=function(e,t,i,s,n){var o=this;t.classList.contains(y)||(Object(a.s)([t],y),this.isLoaded&&!this.isRefreshed?(this.expandArgs=this.getExpandEvent(e,i),this.trigger("nodeExpanding",this.expandArgs,(function(i){i.cancel?Object(a.S)([t],y):o.nodeExpandAction(e,t,s,n)}))):this.nodeExpandAction(e,t,s,n))},t.prototype.nodeExpandAction=function(e,t,i,s){var n=Object(a.V)("."+O,e);if(n&&"UL"===n.nodeName)this.expandNode(e,t);else{this.renderChildNodes(e,i,s);for(var o=Object(a.W)("."+b,e),r=0;r<o.length;r++){var d=this.getId(o[r]);if(-1!==this.expandChildren.indexOf(d)&&void 0!==this.expandChildren){var h=Object(a.V)("."+g,Object(a.V)("."+C,o[r]));Object(a.J)(h)||this.expandAction(o[r],h,null),this.expandChildren.splice(this.expandChildren.indexOf(d),1)}}}},t.prototype.keyActionHandler=function(e){var t=this,i=e.target,s=this.getFocusedNode();if(i&&i.classList.contains("e-input")){var n=i;"enter"===e.action?(n.blur(),this.element.focus(),Object(a.s)([s],j)):"escape"===e.action&&(n.value=this.oldText,n.blur(),this.element.focus(),Object(a.s)([s],j))}else{e.preventDefault();var o={cancel:!1,event:e,node:s};this.trigger("keyPress",o,(function(i){if(!i.cancel)switch(e.action){case"space":t.showCheckBox&&t.checkNode(e);break;case"moveRight":t.openNode(!t.enableRtl,e);break;case"moveLeft":t.openNode(!!t.enableRtl,e);break;case"shiftDown":t.shiftKeySelect(!0,e);break;case"moveDown":case"ctrlDown":case"csDown":t.navigateNode(!0);break;case"shiftUp":t.shiftKeySelect(!1,e);break;case"moveUp":case"ctrlUp":case"csUp":t.navigateNode(!1);break;case"home":case"shiftHome":case"ctrlHome":case"csHome":t.navigateRootNode(!0);break;case"end":case"shiftEnd":case"ctrlEnd":case"csEnd":t.navigateRootNode(!1);break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":t.toggleSelect(s,e);break;case"f2":t.allowEditing&&!s.classList.contains("e-disable")&&t.createTextbox(s,e);break;case"ctrlA":if(t.allowMultiSelection){var n=Object(a.W)("."+b+":not(."+m+")",t.element);t.selectGivenNodes(n)}}}))}},t.prototype.navigateToFocus=function(e){var t=this.getFocusedNode().querySelector("."+C),i=t.getBoundingClientRect(),s=this.getScrollParent(this.element);if(!Object(a.J)(s)){var n=s.getBoundingClientRect();i.bottom>n.bottom?s.scrollTop+=i.bottom-n.bottom:i.top<n.top&&(s.scrollTop-=n.top-i.top)}this.isVisibleInViewport(t)||t.scrollIntoView(e)},t.prototype.isVisibleInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},t.prototype.getScrollParent=function(e){return Object(a.J)(e)?null:e.scrollHeight>e.clientHeight?e:this.getScrollParent(e.parentElement)},t.prototype.shiftKeySelect=function(e,t){if(this.allowMultiSelection){var i=this.getFocusedNode(),s=e?this.getNextNode(i):this.getPrevNode(i);this.removeHover(),this.setFocusElement(s),this.toggleSelect(s,t,!1),this.navigateToFocus(!e)}else this.navigateNode(e)},t.prototype.checkNode=function(e){var t=this.getFocusedNode(),i=Object(a.V)("."+A,t),s=Object(a.V)(" .e-frame",i).classList.contains(E);t.classList.contains("e-disable")||0==t.getElementsByClassName("e-checkbox-disabled").length&&this.validateCheckNode(i,s,t,e)},t.prototype.validateCheckNode=function(e,t,i,s){var n=this,o=Object(a.w)(e,"."+b);this.checkActionNodes=[];var r=t?"false":"true";Object(a.J)(r)||e.setAttribute("aria-checked",r);var d=this.getCheckEvent(o,t?"uncheck":"check",s);this.trigger("nodeChecking",d,(function(a){a.cancel||n.nodeCheckingAction(e,t,i,a,s)}))},t.prototype.nodeCheckingAction=function(e,t,i,s,n){if(-1===this.checkedElement.indexOf(i.getAttribute("data-uid"))){this.checkedElement.push(i.getAttribute("data-uid"));var o=this.getChildNodes(this.treeData,i.getAttribute("data-uid"));null!==o?this.allCheckNode(o,this.checkedElement,null,null,!1):o=null}if(this.changeState(e,t?"uncheck":"check",n,!0),this.autoCheck){this.ensureChildCheckState(i),this.ensureParentCheckState(Object(a.w)(Object(a.w)(i,"."+O),"."+b));var r=void 0;"check"===s.action?r=!0:"uncheck"===s.action&&(r=!1),this.ensureStateChange(i,r)}this.allowServerDataBinding=!0,this.updateServerProperties("check"),this.allowServerDataBinding=!1,this.nodeCheckedEvent(e,t,n)},t.prototype.ensureStateChange=function(e,t){var i=Object(a.V)("."+O,e),s=e.getAttribute("data-uid"),r=this.fields;if(1===this.dataType&&this.autoCheck)for(var d=new n.a(this.treeData).executeLocal((new o.b).where(r.parentID,"equal",s,!0)),h=0;h<d.length;h++){var l=d[h][this.fields.id]?d[h][this.fields.id].toString():null,c=d[h][this.fields.isChecked]?d[h][this.fields.isChecked].toString():null;if(-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(l)){this.checkedNodes.push(l);var p=this.getChildNodes(this.treeData,l);this.getChildItems(p,t),-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}else if(-1===this.checkedNodes.indexOf(s)&&null===i&&-1!==this.checkedNodes.indexOf(l)){if(this.checkedNodes.splice(this.checkedNodes.indexOf(l),1),"true"===c&&this.updateField(this.treeData,this.fields,l,"isChecked",null),-1===this.checkedNodes.indexOf(s)&&null===i||-1!==this.parentNodeCheck.indexOf(l)){var u=this.getChildNodes(this.treeData,l);this.getChildItems(u,t),-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}}else{p=this.getChildNodes(this.treeData,l);this.getChildItems(p,t)}}else if(1!==this.dataType||this.autoCheck){(p=this.getChildNodes(this.treeData,s))&&this.childStateChange(p,s,i,t)}else if(t)for(h=0;h<this.treeData.length;h++){var f=this.treeData[h][this.fields.id]?this.treeData[h][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(f)&&this.checkedNodes.push(f)}else{for(var g=new n.a(this.treeData).executeLocal((new o.b).where(r.isChecked,"equal",!0,!1)),h=0;h<g.length;h++){var b=g[h][this.fields.id]?g[h][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(b)&&this.checkedNodes.splice(this.checkedNodes.indexOf(b),1),this.updateField(this.treeData,this.fields,b,"isChecked",null)}this.checkedNodes=[]}},t.prototype.getChildItems=function(e,t){for(var i=0;i<e.length;i++){var s=e[i][this.fields.id]?e[i][this.fields.id].toString():null,a=e[i][this.fields.isChecked]?e[i][this.fields.isChecked].toString():null;-1===this.checkedNodes.indexOf(s)||t||this.checkedNodes.splice(this.checkedNodes.indexOf(s),1),-1===this.checkedNodes.indexOf(s)&&t&&this.checkedNodes.push(s),"true"!==a||t||this.updateField(this.treeData,this.fields,s,"isChecked",null);var n=this.getChildNodes(this.treeData,s);n.length>0&&this.getChildItems(n,t)}},t.prototype.childStateChange=function(e,t,i,s){for(var a=0;a<e.length;a++){var n=e[a][this.fields.id]?e[a][this.fields.id].toString():"",o=e[a][this.fields.isChecked]?e[a][this.fields.isChecked].toString():null;this.autoCheck?-1!==this.checkedNodes.indexOf(t)&&-1===this.checkedNodes.indexOf(n)?(this.checkedNodes.push(n),-1!==this.parentNodeCheck.indexOf(n)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(n),1)):-1!==this.checkedNodes.indexOf(t)||-1===this.checkedNodes.indexOf(n)||s||(this.checkedNodes.splice(this.checkedNodes.indexOf(n),1),"true"===o&&this.updateField(this.treeData,this.fields,n,"isChecked",null)):this.autoCheck||(s?-1===this.checkedNodes.indexOf(n)&&this.checkedNodes.push(n):(-1!==this.checkedNodes.indexOf(n)&&this.checkedNodes.splice(this.checkedNodes.indexOf(n),1),this.updateField(this.treeData,this.fields,n,"isChecked",null),this.checkedNodes=[]));var r=this.getChildNodes([e[a]],n);r&&this.childStateChange(r,t,i,s)}},t.prototype.allCheckNode=function(e,t,i,s,n){if(e)for(var o=0;o<e.length;o++){var r=Object(a.H)(this.fields.id,e[o]),d=this.element.querySelector('[data-uid="'+r+'"]');if(!1!==n&&-1===this.checkedElement.indexOf(r.toString())&&(null===d&&!Object(a.J)(e[o][this.fields.isChecked])&&-1===t.indexOf(r.toString())||0===s||2===i)&&(!1!==e[o][this.fields.isChecked]||2===i?t.push(r.toString()):s=null,s=!1!==e[o][this.fields.isChecked]||2===i?0:null),-1===t.indexOf(r.toString())&&Object(a.J)(i)&&t.push(r.toString()),!0===Object(a.H)(this.fields.hasChildren,e[o])||Object(a.H)(this.fields.child.toString(),e[o])){var h=Object(a.H)(this.fields.id,e[o]),l=this.getChildNodes(this.treeData,h.toString());l&&(Object(a.J)(n)?this.allCheckNode(l,t,i,s):this.allCheckNode(l,t,i,s,n),s=null)}s=null}},t.prototype.openNode=function(e,t){var i=this.getFocusedNode(),s=Object(a.V)("div."+k,i);if(e){if(!s)return;s.classList.contains(g)?this.expandAction(i,s,t):this.focusNextNode(i,!0)}else if(s&&s.classList.contains(f))this.collapseNode(i,s,t);else{var n=Object(a.w)(Object(a.w)(i,"."+O),"."+b);if(!n)return;n.classList.contains("e-disable")||(this.setFocus(i,n),this.navigateToFocus(!0))}},t.prototype.navigateNode=function(e){var t=this.getFocusedNode();this.focusNextNode(t,e)},t.prototype.navigateRootNode=function(e){var t=this.getFocusedNode(),i=e?this.getRootNode():this.getEndNode();i.classList.contains("e-disable")||(this.setFocus(t,i),this.navigateToFocus(e))},t.prototype.getFocusedNode=function(){var e,t=Object(a.V)("."+b+"."+L,this.element);return Object(a.J)(t)&&(e=Object(a.V)("."+b,this.element)),Object(a.J)(t)?Object(a.J)(e)?this.element.firstElementChild:e:t},t.prototype.focusNextNode=function(e,t){var i=t?this.getNextNode(e):this.getPrevNode(e);if(this.setFocus(e,i),this.navigateToFocus(!t),i.classList.contains("e-disable")){var s=i.lastChild;null==i.previousSibling&&i.classList.contains("e-level-1")?this.focusNextNode(i,!0):null==i.nextSibling&&i.classList.contains("e-node-collapsed")||null==i.nextSibling&&s.classList.contains(C)?this.focusNextNode(i,!1):this.focusNextNode(i,t)}},t.prototype.getNextNode=function(e){var t,i=this.liList.indexOf(e);do{if(i++,t=this.liList[i],Object(a.J)(t))return e}while(!Object(a.N)(t));return t},t.prototype.getPrevNode=function(e){var t,i=this.liList.indexOf(e);do{if(i--,t=this.liList[i],Object(a.J)(t))return e}while(!Object(a.N)(t));return t},t.prototype.getRootNode=function(){var e,t=0;do{e=this.liList[t],t++}while(!Object(a.N)(e));return e},t.prototype.getEndNode=function(){var e,t=this.liList.length-1;do{e=this.liList[t],t--}while(!Object(a.N)(e));return e},t.prototype.setFocus=function(e,t){Object(a.S)([e],[j,L]),t.classList.contains("e-disable")||(Object(a.s)([t],[j,L]),this.updateIdAttr(e,t))},t.prototype.updateIdAttr=function(e,t){this.element.removeAttribute("aria-activedescendant"),e&&e.removeAttribute("id"),t.setAttribute("id",this.element.id+"_active"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active")},t.prototype.focusIn=function(){this.mouseDownStatus||Object(a.s)([this.getFocusedNode()],j),this.mouseDownStatus=!1},t.prototype.focusOut=function(){Object(a.S)([this.getFocusedNode()],j)},t.prototype.onMouseOver=function(e){var t=e.target,i=t.classList,s=Object(a.w)(t,"."+b);!s||i.contains(O)||i.contains(b)?this.removeHover():s&&!s.classList.contains("e-disable")&&this.setHover(s)},t.prototype.setHover=function(e){e.classList.contains(j)||(this.removeHover(),Object(a.s)([e],j))},t.prototype.onMouseLeave=function(e){this.removeHover()},t.prototype.removeHover=function(){var e=Object(a.W)("."+j,this.element);e&&e.length&&Object(a.S)(e,j)},t.prototype.getNodeData=function(e,t){if(!Object(a.J)(e)&&e.classList.contains(b)&&!Object(a.J)(Object(a.w)(e,".e-control"))&&Object(a.w)(e,".e-control").classList.contains(u)){var i=e.getAttribute("data-uid"),s=this.getText(e,t),n=Object(a.w)(e.parentNode,"."+b),o=n?n.getAttribute("data-uid"):null,r=e.classList.contains(m),d="true"===e.getAttribute("aria-expanded"),h=null!==e.getAttribute("aria-expanded");this.isBlazorPlatform&&(h="true"===e.getAttribute("aria-expanded")||null!=(e.querySelector(".e-icon-expandable")||e.querySelector(".e-icon-collapsible")));var l=null;return this.showCheckBox&&(l=Object(a.V)("."+A,e).getAttribute("aria-checked")),{id:i,text:s,parentID:o,selected:r,expanded:d,isChecked:l,hasChildren:h}}return{id:"",text:"",parentID:"",selected:!1,expanded:!1,isChecked:"",hasChildren:!1}},t.prototype.getText=function(e,t){if(t){var i=this.getNodeObject(e.getAttribute("data-uid")),s=parseFloat(e.getAttribute("aria-level")),n=this.getFields(this.fields,s,1);return Object(a.H)(n.text,i)}return Object(a.V)("."+v,e).textContent},t.prototype.getExpandEvent=function(e,t){var i=this.getNodeData(e);return{cancel:!1,isInteracted:!Object(a.J)(t),node:e,nodeData:i,event:t}},t.prototype.renderNodeTemplate=function(e,t,i){var s=this.nodeTemplateFn(e,this,"nodeTemplate"+i,this.element.id+"nodeTemplate",this.isStringTemplate,void 0,t);s&&(s=Array.prototype.slice.call(s),Object(a.t)(s,t))},t.prototype.destroyTemplate=function(e){this.clearTemplate(["nodeTemplate"+e.getAttribute("data-uid")])},t.prototype.reRenderNodes=function(){this.updateListProp(this.fields),Object(a.T)(this.element.id+"nodeTemplate","NodeTemplate"),this.isBlazorPlatform?(this.ulElement=this.element.querySelector(".e-list-parent.e-ul"),this.ulElement.parentElement.removeChild(this.ulElement)):this.element.innerHTML="",Object(a.J)(this.nodeTemplateFn)||this.clearTemplate(),this.setTouchClass(),this.setProperties({selectedNodes:[],checkedNodes:[],expandedNodes:[]},!0),this.checkedElement=[],this.isLoaded=!1,this.setDataBinding(!0)},t.prototype.setCssClass=function(e,t){Object(a.J)(e)||""===e||Object(a.S)([this.element],e.split(" ")),Object(a.J)(t)||""===t||Object(a.s)([this.element],t.split(" "))},t.prototype.editingHandler=function(e){var t=e.target;if(!(!t||t.classList.contains(u)||t.classList.contains(O)||t.classList.contains(b)||t.classList.contains(k)||t.classList.contains("e-input")||t.classList.contains("e-input-group"))){var i=Object(a.w)(t,"."+b);this.createTextbox(i,e)}},t.prototype.createTextbox=function(e,t){var i=this,s=Object(a.V)(".e-tree-input",this.element);s&&s.blur();var n=Object(a.V)("."+v,e);this.updateOldText(e);var o=this.createElement("input",{className:"e-tree-input",attrs:{value:this.oldText}}),r=this.getEditEvent(e,null,o.outerHTML);this.trigger("nodeEditing",r,(function(t){if(!t.cancel){var s="width:"+(n.offsetWidth+5)+"px";Object(a.s)([e],"e-editing"),Object(a.J)(i.nodeTemplateFn)||i.destroyTemplate(e),n.innerHTML=r.innerHtml;var o=Object(a.V)(".e-tree-input",n);i.inputObj=h.a.createInput({element:o,properties:{enableRtl:i.enableRtl}},i.createElement),i.inputObj.container.setAttribute("style",s),o.focus();var d=o;d.setSelectionRange(0,d.value.length),i.wireInputEvents(o)}}))},t.prototype.updateOldText=function(e){var t=e.getAttribute("data-uid");this.editData=this.getNodeObject(t);var i=parseFloat(e.getAttribute("aria-level"));this.editFields=this.getFields(this.fields,i,1),this.oldText=Object(a.H)(this.editFields.text,this.editData)},t.prototype.inputFocusOut=function(e){if(Object(a.V)(".e-tree-input",this.element)){var t=e.target,i=t.value,s=Object(a.w)(t,"."+v),o=Object(a.w)(t,"."+b);Object(a.A)(this.inputObj.container),this.fields.dataSource instanceof n.a&&!this.isOffline&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName?this.crudOperation("update",null,o,i,null,null,!0):this.appendNewText(o,s,i,!0)}},t.prototype.appendNewText=function(e,t,i,s){var a=this,n=this.getEditEvent(e,i,null);this.trigger("nodeEdited",n,(function(n){i=n.cancel?n.oldText:n.newText,a.updateText(e,t,i,s),n.oldText!==i&&a.triggerEvent()}))},t.prototype.updateText=function(e,t,i,s){var n=Object(a.Z)(this.editFields.text,i,this.editData);if(Object(a.J)(this.nodeTemplateFn))t.innerText=i;else{t.innerText="";var o=e.getAttribute("data-uid");this.renderNodeTemplate(n,t,o),this.updateBlazorTemplate(),this.renderReactTemplates()}s&&(Object(a.S)([e],"e-editing"),t.focus())},t.prototype.getElement=function(e){return Object(a.J)(e)?null:"string"==typeof e?this.element.querySelector('[data-uid="'+e+'"]'):"object"==typeof e?Object(a.D)(e):null},t.prototype.getId=function(e){return Object(a.J)(e)?null:"string"==typeof e?e:"object"==typeof e?Object(a.D)(e).getAttribute("data-uid"):null},t.prototype.getEditEvent=function(e,t,i){return{cancel:!1,newText:t,node:e,nodeData:this.getNodeData(e),oldText:this.oldText,innerHtml:i}},t.prototype.getNodeObject=function(e){if(!Object(a.J)(e)){if(1!==this.dataType)return this.getChildNodeObject(this.treeData,this.fields,e);for(var t=0,i=this.treeData.length;t<i;t++){var s=Object(a.H)(this.fields.id,this.treeData[t]);if(!Object(a.J)(this.treeData[t])&&!Object(a.J)(s)&&s.toString()===e)return this.treeData[t]}}},t.prototype.getChildNodeObject=function(e,t,i){var s;if(Object(a.J)(e))return s;for(var o=0,r=e.length;o<r;o++){var d=Object(a.H)(t.id,e[o]);if(e[o]&&d&&d.toString()===i)return e[o];if("string"!=typeof t.child||Object(a.J)(Object(a.H)(t.child,e[o]))){if(this.fields.dataSource instanceof n.a&&!Object(a.J)(Object(a.H)("child",e[o]))){if(void 0!==(s=this.getChildNodeObject(Object(a.H)("child",e[o]),this.getChildMapper(t),i)))break}}else{var h=Object(a.H)(t.child,e[o]);if(void 0!==(s=this.getChildNodeObject(h,this.getChildMapper(t),i)))break}}return s},t.prototype.setDragAndDrop=function(e){e&&!this.disabled?this.initializeDrag():this.destroyDrag()},t.prototype.initializeDrag=function(){var e,t=this,i=this;this.dragObj=new a.h(this.element,{enableTailMode:!0,enableAutoScroll:!0,dragArea:this.dragArea,dragTarget:"."+C,helper:function(s){t.dragTarget=s.sender.target;var n=Object(a.w)(t.dragTarget,"."+u),o=Object(a.w)(t.dragTarget,"."+C);if(t.dragLi=Object(a.w)(t.dragTarget,"."+b),t.fullRowSelect&&!o&&t.dragTarget.classList.contains(D)&&(o=t.dragTarget.nextElementSibling),!t.dragTarget||!s.element.isSameNode(n)||!o||t.dragTarget.classList.contains(u)||t.dragTarget.classList.contains(O)||t.dragTarget.classList.contains(b)||t.dragLi.classList.contains("e-disable"))return!1;var r=o.cloneNode(!0);if(Object(a.J)(Object(a.V)("div."+k,r))){var d=i.createElement("div",{className:k+" "+g});r.insertBefore(d,r.children[0])}var h="e-drag-item "+u+" "+t.cssClass+" "+(t.enableRtl?"e-rtl":"");(e=i.createElement("div",{className:h})).appendChild(r);var l=t.selectedNodes.length;if(l>1&&t.allowMultiSelection&&t.dragLi.classList.contains(m)){var c=i.createElement("span",{className:"e-drop-count",innerHTML:""+l});e.appendChild(c)}return document.body.appendChild(e),document.body.style.cursor="",t.dragData=t.getNodeData(t.dragLi),e},dragStart:function(i){Object(a.s)([t.element],"e-dragging");var s,n=Object(a.w)(i.target,".e-list-item");n&&(s=parseInt(n.getAttribute("aria-level"),10));var o=t.getDragEvent(i.event,t,null,i.target,null,e,s);o.draggedNode.classList.contains("e-editing")?(t.dragObj.intDestroy(i.event),t.dragCancelAction(e)):t.trigger("nodeDragStart",o,(function(s){s.cancel?(t.dragObj.intDestroy(i.event),t.dragCancelAction(e)):t.dragStartAction=!0,Object(a.I)()&&i.bindEvents(Object(a.D)(i.dragElement))}))},drag:function(i){t.dragObj.setProperties({cursorAt:{top:!Object(a.J)(i.event.targetTouches)||a.c.isDevice?60:-20}}),t.dragAction(i,e)},dragStop:function(e){Object(a.S)([t.element],"e-dragging"),t.removeVirtualEle();var i=e.target,s=Object(a.w)(i,".e-droppable"),n=!0;i&&s||(Object(a.A)(e.helper),document.body.style.cursor="",n=!1);var o,r=Object(a.w)(i,".e-list-item");r&&(o=parseInt(r.getAttribute("aria-level"),10));var d=t.getDragEvent(e.event,t,i,i,null,e.helper,o);d.preventTargetExpand=!1,(t.isBlazorPlatform&&t.dragStartAction||!t.isBlazorPlatform)&&t.trigger("nodeDragStop",d,(function(i){t.dragParent=i.draggedParentNode,t.preventExpand=i.preventTargetExpand,i.cancel&&(e.helper.parentNode&&Object(a.A)(e.helper),document.body.style.cursor="",n=!1),t.dragStartAction=!1,t.isBlazorPlatform&&n&&t.dropAction(e,!0)}))}}),this.dropObj=new a.i(this.element,{out:function(e){Object(a.J)(e)||e.target.classList.contains(S)||(document.body.style.cursor="not-allowed")},over:function(e){document.body.style.cursor=""},drop:function(e){t.isBlazorPlatform||t.dropAction(e)}})},t.prototype.dragCancelAction=function(e){Object(a.A)(e),Object(a.S)([this.element],"e-dragging"),this.dragStartAction=!1},t.prototype.dragAction=function(e,t){var i=Object(a.w)(e.target,".e-droppable"),s=Object(a.w)(e.target,"."+C),n=Object(a.V)("div."+k,t);Object(a.S)([n],["e-drop-in",x,"e-drop-out","e-no-drop"]),this.removeVirtualEle(),document.body.style.cursor="";var o=e.target.classList;if(this.fullRowSelect&&!s&&!Object(a.J)(o)&&o.contains(D)&&(s=e.target.nextElementSibling),i){var r=Object(a.w)(e.target,"."+b),d=Object(a.w)(e.target,"."+A),h=Object(a.w)(e.target,"."+f),l=Object(a.w)(e.target,"."+g);if(!i.classList.contains(u)||s&&!r.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,r))if(r&&e&&!l&&!h&&e.event.offsetY<7&&!d||l&&e.event.offsetY<5||h&&e.event.offsetX<3){Object(a.s)([n],x);var c=this.createElement("div",{className:S}),p=this.fullRowSelect?1:0;r.insertBefore(c,r.children[p])}else if(r&&e&&!l&&!h&&e.target.offsetHeight>0&&e.event.offsetY>e.target.offsetHeight-10&&!d||l&&e.event.offsetY>19||h&&e.event.offsetX>19){Object(a.s)([n],x);c=this.createElement("div",{className:S}),p=this.fullRowSelect?2:1;r.insertBefore(c,r.children[p])}else Object(a.s)([n],"e-drop-in");else"LI"!==e.target.nodeName||r.isSameNode(this.dragLi)||this.isDescendant(this.dragLi,r)?e.target.classList.contains(S)?Object(a.s)([n],x):Object(a.s)([n],"e-drop-out"):(Object(a.s)([n],x),this.renderVirtualEle(e))}else Object(a.s)([n],"e-no-drop"),document.body.style.cursor="not-allowed";var v,O=Object(a.w)(e.target,".e-list-item");O&&(v=parseInt(O.getAttribute("aria-level"),10));var j=this.getDragEvent(e.event,this,e.target,e.target,null,t,v);j.dropIndicator&&Object(a.S)([n],j.dropIndicator),this.trigger("nodeDragging",j),j.dropIndicator&&Object(a.s)([n],j.dropIndicator)},t.prototype.dropAction=function(e,t){var s,o,r,d=e.event.offsetY,h=e.target,l=!1;r=t?e.element:e.dragData.draggable;for(var c=0;c<r.ej2_instances.length;c++)if(r.ej2_instances[c]instanceof i){s=r.ej2_instances[c];break}if(s&&s.dragTarget){var p=s.dragTarget,f=Object(a.w)(p,"."+b),g=Object(a.w)(h,"."+b);if(null==g&&h.classList.contains(u)&&(g=h.firstElementChild),t?Object(a.A)(e.helper):Object(a.A)(e.droppedElement),document.body.style.cursor="",!g||g.isSameNode(f)||this.isDescendant(f,g))return void(this.fields.dataSource instanceof n.a==!1&&(this.preventExpand=!1));if(s.allowMultiSelection&&f.classList.contains(m)){var v=Object(a.W)("."+m,s.element);if(e.target.offsetHeight<=33&&d>e.target.offsetHeight-10&&d>6)for(c=v.length-1;c>=0;c--)g.isSameNode(v[c])||this.isDescendant(v[c],g)||this.appendNode(h,v[c],g,e,s,d);else for(c=0;c<v.length;c++)g.isSameNode(v[c])||this.isDescendant(v[c],g)||this.appendNode(h,v[c],g,e,s,d)}else this.appendNode(h,f,g,e,s,d);o=parseInt(f.getAttribute("aria-level"),10),l=!0}this.fields.dataSource instanceof n.a==!1&&(this.preventExpand=!1),t?this.trigger("nodeDropped",this.getDragEvent(e.event,s,h,e.target,e.element,null,o,l)):this.trigger("nodeDropped",this.getDragEvent(e.event,s,h,e.target,e.dragData.draggedElement,null,o,l)),this.triggerEvent()},t.prototype.appendNode=function(e,t,i,s,n,o){var r=Object(a.w)(e,"."+A),d=Object(a.w)(s.target,"."+f),h=Object(a.w)(s.target,"."+g);t.classList.contains("e-disable")||r||!(h&&s.event.offsetY<5||d&&s.event.offsetX<3||h&&s.event.offsetY>19||d&&s.event.offsetX>19||!h&&!d)?this.dropAsChildNode(t,i,n,null,s,o,!0):"LI"===e.nodeName?this.dropAsSiblingNode(t,i,s,n):e.firstElementChild&&e.classList.contains(u)?"UL"===e.firstElementChild.nodeName&&this.dropAsSiblingNode(t,i,s,n):e.classList.contains("e-icon-collapsible")||e.classList.contains("e-icon-expandable")?this.dropAsSiblingNode(t,i,s,n):this.dropAsChildNode(t,i,n,null,s,o)},t.prototype.dropAsSiblingNode=function(e,t,i,s){var n,o=Object(a.w)(t,"."+O),r=Object(a.w)(e,"."+O),d=Object(a.w)(r,"."+b);if(i.target.offsetHeight>0&&i.event.offsetY>i.target.offsetHeight-2?n=!1:i.event.offsetY<2?n=!0:(i.target.classList.contains("e-icon-expandable")||i.target.classList.contains("e-icon-collapsible"))&&(i.event.offsetY<5||i.event.offsetX<3?n=!0:(i.event.offsetY>15||i.event.offsetX>17)&&(n=!1)),i.target.classList.contains("e-icon-expandable")||i.target.classList.contains("e-icon-collapsible")){var h=i.target.closest("li");o.insertBefore(e,n?h:h.nextElementSibling)}else o.insertBefore(e,n?i.target:i.target.nextElementSibling);this.moveData(e,t,o,n,s),this.updateElement(r,d),this.updateAriaLevel(e),s.element.id===this.element.id?this.updateList():(s.updateInstance(),this.updateInstance())},t.prototype.dropAsChildNode=function(e,t,i,s,n,o,r){var d=Object(a.w)(e,"."+O),h=Object(a.w)(d,"."+b),l=Object(a.w)(t,"."+O);if(n&&o<7&&!r)l.insertBefore(e,t),this.moveData(e,t,l,!0,i);else if(n&&n.target.offsetHeight>0&&o>n.target.offsetHeight-10&&!r)l.insertBefore(e,t.nextElementSibling),this.moveData(e,t,l,!1,i);else{var c=this.expandParent(t),p=c.childNodes[s];c.insertBefore(e,p),this.moveData(e,p,c,!0,i)}this.updateElement(d,h),this.updateAriaLevel(e),i.element.id===this.element.id?this.updateList():(i.updateInstance(),this.updateInstance())},t.prototype.moveData=function(e,t,i,s,n){var o=Object(a.w)(i,"."+b),r=this.getId(e),d=n.updateChildField(n.treeData,n.fields,r,null,null,!0),h=this.getId(t),l=this.getDataPos(this.treeData,this.fields,h),c=this.getId(o);if(1===this.dataType){this.updateField(this.treeData,this.fields,c,"hasChildren",!0);var p=Object(a.J)(l)?this.treeData.length:s?l:l+1;if(Object(a.J)(c)&&!this.hasPid)delete d[0][this.fields.parentID];else{var u=this.isNumberTypeId?parseFloat(c):c;Object(a.Z)(this.fields.parentID,u,d[0])}if(this.treeData.splice(p,0,d[0]),n.element.id!==this.element.id){var f=n.removeChildNodes(r);p++;for(var g=0,v=f.length;g<v;g++)this.treeData.splice(p,0,f[g]),p++;n.groupedData=n.getGroupedData(n.treeData,n.fields.parentID)}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.addChildData(this.treeData,this.fields,c,d,s?l:l+1)},t.prototype.expandParent=function(e){var t=Object(a.V)("div."+k,e);t&&t.classList.contains(g)&&!0!==this.preventExpand&&this.expandAction(e,t,null);var i,s=Object(a.V)("."+O,e);(!0===this.preventExpand&&!s&&t&&this.renderChildNodes(e),s=Object(a.V)("."+O,e),Object(a.J)(s)||!0!==this.preventExpand||(s.style.display="none"),Object(a.J)(s)||!1!==this.preventExpand||(s.style.display="block"),Object(a.J)(s)&&!0===this.preventExpand)&&(Object(a.J)(t)&&r.a.generateIcon(this.createElement,e,g,this.listBaseOption),(i=Object(a.V)("div."+k,e))&&i.classList.add("e-icon-expandable"),s=r.a.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(s),i?Object(a.S)([i],f):r.a.generateIcon(this.createElement,e,g,this.listBaseOption),e.setAttribute("aria-expanded","false"),s.style.display="none");Object(a.J)(s)&&(this.trigger("nodeExpanding",this.getExpandEvent(e,null)),Object(a.J)(t)&&r.a.generateIcon(this.createElement,e,f,this.listBaseOption),(i=Object(a.V)("div."+k,e))||(r.a.generateIcon(this.createElement,e,f,this.listBaseOption),i=Object(a.V)("div."+k,e)),Object(a.S)([i],g),s=r.a.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(s),this.addExpand(e),this.trigger("nodeExpanded",this.getExpandEvent(e,null)));return s},t.prototype.updateElement=function(e,t){if(t&&0===e.childElementCount){var i=Object(a.V)("div."+k,t);Object(a.A)(e),Object(a.A)(i);var s=this.getId(t);this.updateField(this.treeData,this.fields,s,"hasChildren",!1),this.removeExpand(t,!0)}},t.prototype.updateAriaLevel=function(e){var t=this.parents(e,"."+O).length;e.setAttribute("aria-level",""+t),this.updateChildAriaLevel(Object(a.V)("."+O,e),t+1)},t.prototype.updateChildAriaLevel=function(e,t){if(!Object(a.J)(e))for(var i=e.childNodes,s=0,n=i.length;s<n;s++){var o=i[s];o.setAttribute("aria-level",""+t),this.updateChildAriaLevel(Object(a.V)("."+O,o),t+1)}},t.prototype.renderVirtualEle=function(e){var t;e.event.offsetY>e.target.offsetHeight-2?t=!1:e.event.offsetY<2&&(t=!0);var i=this.createElement("div",{className:S}),s=this.fullRowSelect?t?1:2:t?0:1;e.target.insertBefore(i,e.target.children[s])},t.prototype.removeVirtualEle=function(){var e=Object(a.V)("."+S);e&&Object(a.A)(e)},t.prototype.destroyDrag=function(){this.dragObj&&this.dropObj&&(this.dragObj.destroy(),this.dropObj.destroy())},t.prototype.getDragEvent=function(e,t,i,s,o,r,d,h){var l=i?Object(a.w)(i,"."+b):null,c=l?this.getNodeData(l):null,p=t?t.dragLi:o,f=t?t.dragData:null,g=i?this.parents(i,"."+b):null,v=t.dragLi.parentElement,O=t.dragLi?Object(a.w)(v,"."+b):null,j=null,m=null,N=[x,"e-drop-in","e-drop-out","e-no-drop"],y=null,C=!0===h?p:l,S=C?Object(a.w)(C,".e-list-parent"):null,D=0,w=null;if(O=t.dragLi&&null===O?Object(a.w)(v,"."+u):O,O=!0===h?this.dragParent:O,r)for(;D<4;){if(Object(a.V)("."+k,r).classList.contains(N[D])){y=N[D];break}D++}if(S){var E=0;for(D=0;D<S.childElementCount;D++){if(E=!0!==h&&S.children[D]===p&&l!==p?++E:E,!0!==h&&S.children[D].classList.contains("e-hover")){m=e.offsetY>=23?D+1:D;break}if(S.children[D]===C){e.offsetY,m=D;break}}m=0!==E?--m:m,w="e-drop-in"==y?"Inside":e.offsetY<7?"Before":"After"}if(i&&(j=0===g.length?null:i.classList.contains(b)?g[0]:g[1]),l===p&&(j=l),i&&s.offsetHeight<=33&&e.offsetY<s.offsetHeight-10&&e.offsetY>6&&(j=l,!0!==h)){d=++d;var A=j?Object(a.V)(".e-list-parent",j):null;if(m=A?A.children.length:0,!(this.fields.dataSource instanceof n.a)&&null===A&&j){var L=j.hasAttribute("data-uid")?this.getChildNodes(this.fields.dataSource,j.getAttribute("data-uid").toString()):null;m=L?L.length:0}}return{cancel:!1,clonedNode:r,event:e,draggedNode:p,draggedNodeData:f,droppedNode:l,droppedNodeData:c,dropIndex:m,dropLevel:d,draggedParentNode:O,dropTarget:j,dropIndicator:y,target:s,position:w}},t.prototype.addFullRow=function(e){var t=this.liList.length;if(e)for(var i=0;i<t;i++)this.createFullRow(this.liList[i]);else for(i=0;i<t;i++){var s=Object(a.V)("."+D,this.liList[i]);Object(a.A)(s)}},t.prototype.createFullRow=function(e){var t=this.createElement("div",{className:D});e.insertBefore(t,e.childNodes[0])},t.prototype.addMultiSelect=function(e){if(e)for(var t=0,i=Object(a.W)("."+b+':not([aria-selected="true"])',this.element);t<i.length;t++){i[t].setAttribute("aria-selected","false")}else for(var s=0,n=Object(a.W)("."+b+'[aria-selected="false"]',this.element);s<n.length;s++){n[s].removeAttribute("aria-selected")}},t.prototype.collapseByLevel=function(e,t,i){if(t>0&&!Object(a.J)(e))for(var s=this.getVisibleNodes(i,e.childNodes),n=0,o=s.length;n<o;n++){var r=s[n],d=Object(a.V)("."+f,Object(a.V)("."+C,r));Object(a.J)(d)||this.collapseNode(r,d,null),this.collapseByLevel(Object(a.V)("."+O,r),t-1,i)}},t.prototype.collapseAllNodes=function(e){for(var t=this.getVisibleNodes(e,Object(a.W)("."+f,this.element)),i=0,s=t.length;i<s;i++){var n=t[i],o=Object(a.w)(n,"."+b);this.collapseNode(o,n,null)}},t.prototype.expandByLevel=function(e,t,i){if(t>0&&!Object(a.J)(e))for(var s=this.getVisibleNodes(i,e.childNodes),n=0,o=s.length;n<o;n++){var r=s[n],d=Object(a.V)("."+g,Object(a.V)("."+C,r));Object(a.J)(d)||this.expandAction(r,d,null),this.expandByLevel(Object(a.V)("."+O,r),t-1,i)}},t.prototype.expandAllNodes=function(e){for(var t=this.getVisibleNodes(e,Object(a.W)("."+g,this.element)),i=0,s=t.length;i<s;i++){var n=t[i],o=Object(a.w)(n,"."+b);this.expandAction(o,n,null,!0)}},t.prototype.getVisibleNodes=function(e,t){var i=Array.prototype.slice.call(t);if(e)for(var s=0;s<i.length;s++)Object(a.N)(i[s])||(i.splice(s,1),s--);return i},t.prototype.removeNode=function(e){var t=Object(a.w)(e,"."+O),i=Object(a.w)(t,"."+b);Object(a.J)(this.nodeTemplateFn)||this.destroyTemplate(e),Object(a.A)(e),this.updateElement(t,i),this.updateInstance(),this.removeData(e)},t.prototype.updateInstance=function(){this.updateList(),this.updateSelectedNodes(),this.updateExpandedNodes(),this.allowServerDataBinding=!1,this.updateServerProperties("expand"),this.updateServerProperties("check"),this.updateServerProperties("select"),this.allowServerDataBinding=!0},t.prototype.updateServerProperties=function(e){this.isBlazorPlatform&&("expand"==e?(this.isBlazorExpandedNodes=this.expandedNodes,this.setProperties({expandedNodes:[]},!0)):"check"==e?this.setProperties({checkedNodes:this.checkedNodes},!0):this.setProperties({selectedNodes:this.selectedNodes},!0))},t.prototype.updateList=function(){this.liList=Array.prototype.slice.call(Object(a.W)("."+b,this.element))},t.prototype.updateSelectedNodes=function(){if(!this.isBlazorPlatform||this.isBlazorPlatform&&!this.initialRender){this.setProperties({selectedNodes:[]},!0);var e=Object(a.W)("."+m,this.element);this.selectGivenNodes(e)}else if(this.isBlazorPlatform&&this.initialRender){e=Object(a.W)("."+m,this.element);for(var t=0;t<e.length;t++){var i=e[t].getAttribute("data-uid").toString();Object(a.J)(i)||-1!==this.selectedNodes.indexOf(i)||this.selectedNodes.push(i)}}},t.prototype.updateExpandedNodes=function(){if(!this.isBlazorPlatform||this.isBlazorPlatform&&!this.initialRender){this.setProperties({expandedNodes:[]},!0);for(var e=0,t=(i=Object(a.W)('[aria-expanded="true"]',this.element)).length;e<t;e++)this.addExpand(i[e])}else if(this.isBlazorPlatform&&this.initialRender)for(var i=Object(a.W)('[aria-expanded="true"]',this.element),s=0;s<i.length;s++){var n=i[s].getAttribute("data-uid").toString();Object(a.J)(n)||-1!==this.expandedNodes.indexOf(n)||this.expandedNodes.push(n)}},t.prototype.removeData=function(e){if(1===this.dataType){var t=new n.a(this.treeData),i=this.getId(e),s={},a=this.isNumberTypeId?parseFloat(i):i;s[this.fields.id]=a,t.remove(this.fields.id,s),this.removeChildNodes(i)}else{i=this.getId(e);this.updateChildField(this.treeData,this.fields,i,null,null,!0)}},t.prototype.removeChildNodes=function(e){var t=this.getChildGroup(this.groupedData,e,!1),i=[];if(t)for(var s=0,o=t.length;s<o;s++){var r=new n.a(this.treeData),d=Object(a.H)(this.fields.id,t[s]).toString(),h={},l=this.isNumberTypeId?parseFloat(d):d;h[this.fields.id]=l;var c=r.remove(this.fields.id,h);i.push(c[0]),this.removeChildNodes(d)}return i},t.prototype.doGivenAction=function(e,t,i){for(var s=0,n=e.length;s<n;s++){var o=this.getElement(e[s]);if(!Object(a.J)(o)){var r=Object(a.V)("."+t,Object(a.V)("."+C,o));Object(a.J)(r)||(i?this.expandAction(o,r,null):this.collapseNode(o,r,null))}}},t.prototype.addGivenNodes=function(e,t,i,s,n){if(0!==e.length){var o=this.getSortedData(e),d=t?parseFloat(t.getAttribute("aria-level"))+1:1;s&&this.updateMapper(d);for(var h,l=r.a.createListItemFromJson(this.createElement,o,this.listBaseOption,d),c=(h=n||(t?this.expandParent(t):Object(a.V)("."+O,this.element))).childNodes[i],p=0;p<l.length;p++)h.insertBefore(l[p],c);this.nodeTemplate&&this.isBlazorPlatform&&!this.isStringTemplate&&this.updateBlazorTemplate();var u=this.getId(t);if(1===this.dataType){this.updateField(this.treeData,this.fields,u,"hasChildren",!0);for(var f=this.getId(c),g=Object(a.J)(f)?this.treeData.length:this.getDataPos(this.treeData,this.fields,f),b=0;b<e.length;b++){if(!Object(a.J)(u)){var v=this.isNumberTypeId?parseFloat(u):u;Object(a.Z)(this.fields.parentID,v,e[b])}this.treeData.splice(g,0,e[b]),g++}}else this.addChildData(this.treeData,this.fields,u,e,i);this.finalizeNode(h)}},t.prototype.updateMapper=function(e){var t=1===e?this.fields:this.getChildFields(this.fields,e-1,1);this.updateListProp(t)},t.prototype.updateListProp=function(e){var t=this.getActualProperties(e);this.listBaseOption.fields=t,this.listBaseOption.fields.url=t.hasOwnProperty("navigateUrl")?t.navigateUrl:"navigateUrl"},t.prototype.getDataPos=function(e,t,i){for(var s=null,o=0,r=e.length;o<r;o++){var d=Object(a.H)(t.id,e[o]);if(e[o]&&d&&d.toString()===i)return o;if("string"!=typeof t.child||Object(a.J)(Object(a.H)(t.child,e[o]))){if(this.fields.dataSource instanceof n.a&&!Object(a.J)(Object(a.H)("child",e[o]))){var h=Object(a.H)("child",e[o]);if(null!==(s=this.getDataPos(h,this.getChildMapper(t),i)))break}}else{var l=Object(a.H)(t.child,e[o]);if(null!==(s=this.getDataPos(l,this.getChildMapper(t),i)))break}}return s},t.prototype.addChildData=function(e,t,i,s,o){var r;if(Object(a.J)(i)){o=Object(a.J)(o)?e.length:o;for(var d=0,h=s.length;d<h;d++)e.splice(o,0,s[d]),o++;return r}for(var l=0,c=e.length;l<c;l++){var p=Object(a.H)(t.id,e[l]);if(e[l]&&p&&p.toString()===i){if("string"==typeof t.child&&e[l].hasOwnProperty(t.child)&&null!==e[l][t.child]||this.fields.dataSource instanceof n.a&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName&&e[l].hasOwnProperty("child")){var u="string"==typeof t.child?t.child:"child",f=Object(a.H)(u,e[l]);Object(a.J)(f)&&(f=[]),o=Object(a.J)(o)?f.length:o;for(d=0,h=s.length;d<h;d++)f.splice(o,0,s[d]),o++}else{u="string"==typeof t.child?t.child:"child";e[l][u]=s}return!0}if("string"!=typeof t.child||Object(a.J)(Object(a.H)(t.child,e[l]))){if(this.fields.dataSource instanceof n.a&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName&&!Object(a.J)(Object(a.H)("child",e[l]))){f=Object(a.H)("child",e[l]);if(void 0!==(r=this.addChildData(f,this.getChildMapper(t),i,s,o)))break}}else{var g=Object(a.H)(t.child,e[l]);if(void 0!==(r=this.addChildData(g,this.getChildMapper(t),i,s,o)))break}}return r},t.prototype.doDisableAction=function(e){var t=this.nodeType(e),i=this.checkValidId(t);this.validArr=[];for(var s=0,n=i.length;s<n;s++){var o=i[s][this.fields.id].toString();o&&-1===this.disableNode.indexOf(o)&&this.disableNode.push(o);var r=this.getElement(o);r&&(r.setAttribute("aria-disabled","true"),Object(a.s)([r],"e-disable"))}},t.prototype.doEnableAction=function(e){for(var t=this.nodeType(e),i=0,s=t.length;i<s;i++){var n=this.getElement(t[i]),o=t[i];o&&-1!==this.disableNode.indexOf(o)&&this.disableNode.splice(this.disableNode.indexOf(o),1),n&&(n.removeAttribute("aria-disabled"),Object(a.S)([n],"e-disable"))}},t.prototype.nodeType=function(e){for(var t=[],i=0,s=e.length;i<s;i++){var a=void 0;"string"==typeof e[i]?a=e[i]?e[i].toString():null:"object"==typeof e[i]&&(a=e[i]?e[i].getAttribute("data-uid").toString():null),-1==t.indexOf(a)&&t.push(a)}return t},t.prototype.checkValidId=function(e){var t=this;if(1===this.dataType)this.validArr=this.treeData.filter((function(i){return-1!==e.indexOf(i[t.fields.id]?i[t.fields.id].toString():null)}));else if(2===this.dataType)for(var i=0;i<this.treeData.length;i++){var s=this.treeData[i][this.fields.id]?this.treeData[i][this.fields.id].toString():null;-1!==e.indexOf(s)&&this.validArr.push(this.treeData[i]);var n=Object(a.H)(this.fields.child.toString(),this.treeData[i]);n&&this.filterNestedChild(n,e)}return this.validArr},t.prototype.filterNestedChild=function(e,t){for(var i=0;i<e.length;i++){var s=e[i][this.fields.id]?e[i][this.fields.id].toString():null;-1!==t.indexOf(s)&&this.validArr.push(e[i]);var n=Object(a.H)(this.fields.child.toString(),e[i]);n&&this.filterNestedChild(n,t)}},t.prototype.setTouchClass=function(){var e=Object(a.w)(this.element,".e-bigger");this.touchClass=Object(a.J)(e)?"":"e-small"},t.prototype.updatePersistProp=function(){this.removeField(this.treeData,this.fields,["selected","expanded"]);for(var e=this.selectedNodes,t=0,i=e.length;t<i;t++)this.updateField(this.treeData,this.fields,e[t],"selected",!0);var s=this.expandedNodes;this.isBlazorPlatform&&(s=this.isBlazorExpandedNodes);for(var a=0,n=s.length;a<n;a++)this.updateField(this.treeData,this.fields,s[a],"expanded",!0);if(this.showCheckBox){this.removeField(this.treeData,this.fields,["isChecked"]);var o=this.checkedNodes,r=0;for(n=o.length;r<n;r++)this.updateField(this.treeData,this.fields,o[r],"isChecked",!0)}},t.prototype.removeField=function(e,t,i){if(!Object(a.J)(e)&&!Object(a.J)(t))for(var s=0,o=e.length;s<o;s++){for(var r=0;r<i.length;r++){var d=this.getMapperProp(t,i[r]);Object(a.J)(e[s][d])||delete e[s][d]}"string"!=typeof t.child||Object(a.J)(Object(a.H)(t.child,e[s]))?this.fields.dataSource instanceof n.a&&!Object(a.J)(Object(a.H)("child",e[s]))&&this.removeField(Object(a.H)("child",e[s]),this.getChildMapper(t),i):this.removeField(Object(a.H)(t.child,e[s]),this.getChildMapper(t),i)}},t.prototype.getMapperProp=function(e,t){switch(t){case"selected":return Object(a.J)(e.selected)?"selected":e.selected;case"expanded":return Object(a.J)(e.expanded)?"expanded":e.expanded;case"isChecked":return Object(a.J)(e.isChecked)?"isChecked":e.isChecked;case"hasChildren":return Object(a.J)(e.hasChildren)?"hasChildren":e.hasChildren;default:return t}},t.prototype.updateField=function(e,t,i,s,r){if(!Object(a.J)(i))if(1===this.dataType){var d=this.isNumberTypeId?parseFloat(i):i,h=new n.a(this.treeData).executeLocal((new o.b).where(t.id,"equal",d,!1));Object(a.Z)(this.getMapperProp(t,s),r,h[0])}else this.updateChildField(e,t,i,s,r)},t.prototype.updateChildField=function(e,t,i,s,o,r){var d;if(Object(a.J)(e))return d;for(var h=0,l=e.length;h<l;h++){var c=Object(a.H)(t.id,e[h]);if(e[h]&&c&&c.toString()===i)return r?d=e.splice(h,1):(Object(a.Z)(this.getMapperProp(t,s),o,e[h]),d=[]),d;if("string"!=typeof t.child||Object(a.J)(Object(a.H)(t.child,e[h]))){if(this.fields.dataSource instanceof n.a&&!Object(a.J)(Object(a.H)("child",e[h]))){var p=Object(a.H)("child",e[h]);if(void 0!==(d=this.updateChildField(p,this.getChildMapper(t),i,s,o,r)))break}}else{var u=Object(a.H)(t.child,e[h]);if(void 0!==(d=this.updateChildField(u,this.getChildMapper(t),i,s,o,r)))break}}return d},t.prototype.triggerEvent=function(){this.updateTemplateForBlazor(),this.renderReactTemplates();var e={data:this.treeData};this.trigger("dataSourceChanged",e)},t.prototype.updateBlazorTemplate=function(){Object(a.ab)(this.element.id+"nodeTemplate","NodeTemplate",this,!1)},t.prototype.clientUpdateInitial=function(){this.blazorInitialRender=!0},t.prototype.wireInputEvents=function(e){a.k.add(e,"blur",this.inputFocusOut,this)},t.prototype.wireEditingEvents=function(e){var t=this;if(e&&!this.disabled){var i=this;this.touchEditObj=new a.r(this.element,{tap:function(e){t.isDoubleTapped(e)&&2===e.tapCount&&(e.originalEvent.preventDefault(),i.editingHandler(e.originalEvent))}})}else this.touchEditObj&&this.touchEditObj.destroy()},t.prototype.wireClickEvent=function(e){if(e){var t=this;this.touchClickObj=new a.r(this.element,{tap:function(e){t.clickHandler(e)}})}else this.touchClickObj&&this.touchClickObj.destroy()},t.prototype.wireExpandOnEvent=function(e){var t=this;if(e){var i=this;this.touchExpandObj=new a.r(this.element,{tap:function(e){("Click"===t.expandOnType||"DblClick"===t.expandOnType&&t.isDoubleTapped(e)&&2===e.tapCount)&&3!==e.originalEvent.which&&i.expandHandler(e)}})}else this.touchExpandObj&&this.touchExpandObj.destroy()},t.prototype.mouseDownHandler=function(e){this.mouseDownStatus=!0,(e.shiftKey||e.ctrlKey)&&e.preventDefault(),e.ctrlKey&&this.allowMultiSelection&&a.k.add(this.element,"contextmenu",this.preventContextMenu,this)},t.prototype.preventContextMenu=function(e){e.preventDefault()},t.prototype.wireEvents=function(){a.k.add(this.element,"mousedown",this.mouseDownHandler,this),this.wireClickEvent(!0),"None"!==this.expandOnType&&this.wireExpandOnEvent(!0),a.k.add(this.element,"focus",this.focusIn,this),a.k.add(this.element,"blur",this.focusOut,this),a.k.add(this.element,"mouseover",this.onMouseOver,this),a.k.add(this.element,"mouseout",this.onMouseLeave,this),this.keyboardModule=new a.l(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},t.prototype.unWireEvents=function(){a.k.remove(this.element,"mousedown",this.mouseDownHandler),this.wireClickEvent(!1),this.wireExpandOnEvent(!1),a.k.remove(this.element,"focus",this.focusIn),a.k.remove(this.element,"blur",this.focusOut),a.k.remove(this.element,"mouseover",this.onMouseOver),a.k.remove(this.element,"mouseout",this.onMouseLeave),this.disabled||this.keyboardModule.destroy()},t.prototype.parents=function(e,t){for(var i=[],s=e.parentNode;!Object(a.J)(s);)Object(a.O)(s,t)&&i.push(s),s=s.parentNode;return i},t.prototype.isDoubleTapped=function(e){var t,i=e.originalEvent.target;return i&&e.tapCount&&(1===e.tapCount?this.firstTap=Object(a.w)(i,"."+b):2===e.tapCount&&(t=Object(a.w)(i,"."+b))),this.firstTap===t},t.prototype.isDescendant=function(e,t){for(var i=t.parentNode;!Object(a.J)(i);){if(i===e)return!0;i=i.parentNode}return!1},t.prototype.showSpinner=function(e){Object(a.s)([e],N),Object(l.a)({target:e,width:a.c.isDevice?16:14},this.createElement),Object(l.c)(e)},t.prototype.hideSpinner=function(e){Object(l.b)(e),e.innerHTML="",Object(a.S)([e],N)},t.prototype.setCheckedNodes=function(e){e=JSON.parse(JSON.stringify(e)),this.uncheckAll(this.checkedNodes),this.setIndeterminate(e),e.length>0&&this.checkAll(e)},t.prototype.setValidCheckedNode=function(e){if(1===this.dataType){var t=this.fields,i=new n.a(this.treeData).executeLocal((new o.b).where(t.id,"equal",e,!0));if(i[0]&&(this.setChildCheckState(i,e,i[0]),this.autoCheck)){for(var s=i[0][this.fields.parentID]?i[0][this.fields.parentID].toString():null,r=this.getChildNodes(this.treeData,s),d=0,h=0;h<r.length;h++){var l=r[h][this.fields.id].toString();-1!==this.checkedNodes.indexOf(l)&&d++}d===r.length&&-1===this.checkedNodes.indexOf(s)&&s&&this.checkedNodes.push(s)}}else if(2===this.dataType)for(var c=0;c<this.treeData.length;c++){if((this.treeData[c][this.fields.id]?this.treeData[c][this.fields.id].toString():"")===e&&-1===this.checkedNodes.indexOf(e)){this.checkedNodes.push(e);break}var p=Object(a.H)(this.fields.child.toString(),this.treeData[c]);p&&this.setChildCheckState(p,e,this.treeData[c])}},t.prototype.setChildCheckState=function(e,t,i){var s,n=0;if(1===this.dataType){i&&(s=i[this.fields.id]?i[this.fields.id].toString():null);for(var o=0;o<e.length;o++){var r=e[o][this.fields.id]?e[o][this.fields.id].toString():null;i&&s&&this.autoCheck&&-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(r)&&this.checkedNodes.push(r),r===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t),(d=this.getChildNodes(this.treeData,r))&&this.setChildCheckState(d,t,i)}}else{i&&(s=i[this.fields.id]?i[this.fields.id].toString():"");for(o=0;o<e.length;o++){var d,h=e[o][this.fields.id]?e[o][this.fields.id].toString():"";i&&s&&this.autoCheck&&-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(h)&&this.checkedNodes.push(h),h===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t),(d=Object(a.H)(this.fields.child.toString(),e[o]))&&this.setChildCheckState(d,t,e[o]),-1!==this.checkedNodes.indexOf(h)&&this.autoCheck&&n++,n===e.length&&-1===this.checkedNodes.indexOf(s)&&this.autoCheck&&this.checkedNodes.push(s)}}},t.prototype.setIndeterminate=function(e){for(var t=0;t<e.length;t++)this.setValidCheckedNode(e[t])},t.prototype.updatePosition=function(e,t,i,s){if(1===this.dataType){var a=this.getDataPos(this.treeData,this.fields,e);if(this.treeData.splice(a,1,t),i){this.removeChildNodes(e);for(var n=0;n<s.length;n++)this.treeData.splice(a,0,s[n]),a++}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.updateChildPosition(this.treeData,this.fields,e,[t],void 0)},t.prototype.updateChildPosition=function(e,t,i,s,o){for(var r,d=0,h=e.length;d<h;d++){var l=Object(a.H)(t.id,e[d]);if(e[d]&&l&&l.toString()===i)return e[d]=s[0],!0;if("string"!=typeof t.child||Object(a.J)(Object(a.H)(t.child,e[d]))){if(this.fields.dataSource instanceof n.a&&!Object(a.J)(Object(a.H)("child",e[d]))){var c=Object(a.H)("child",e[d]);if(void 0!==(r=this.updateChildPosition(c,this.getChildMapper(t),i,s,o)))break}}else{var p=Object(a.H)(t.child,e[d]);if(void 0!==(r=this.updateChildPosition(p,this.getChildMapper(t),i,s,o)))break}}return r},t.prototype.dynamicState=function(){this.setDragAndDrop(this.allowDragAndDrop),this.wireEditingEvents(this.allowEditing),this.disabled?(this.unWireEvents(),this.rippleFn(),this.rippleIconFn()):(this.wireEvents(),this.setRipple())},t.prototype.crudOperation=function(e,t,i,s,n,o,r){var d,h=this,l=this.fields.dataSource,c=[],p=this.getQuery(this.fields),u=this.fields.id,f={addedRecords:[],deletedRecords:[],changedRecords:[]},g=[];t?g=this.nodeType(t):i&&("string"==typeof i?g[0]=i.toString():"object"==typeof i&&(g[0]=i.getAttribute("data-uid").toString()));for(var b=0,v=g.length;b<v;b++){var O=this.getElement(g[b]);if(!Object(a.J)(O)){var j=this.getNodeObject(g[b]);c.push(j)}}switch(e){case"delete":1==t.length?d=l.remove(u,c[0],p.fromTable,p):(f.deletedRecords=c,d=l.saveChanges(f,u,p.fromTable,p)),d.then((function(e){return h.deleteSuccess(g)})).catch((function(e){return h.dmFailure(e)}));break;case"update":c[0][this.fields.text]=s,(d=l.update(u,c[0],p.fromTable,p)).then((function(e){return h.editSucess(i,s,r)})).catch((function(e){return h.dmFailure(e,i,r)}));break;case"insert":if(1==n.length)d=l.insert(n[0],p.fromTable,p);else{var m=[];for(b=0,v=n.length;b<v;b++)m.push(n[b]);f.addedRecords=m,d=l.saveChanges(f,u,p.fromTable,p)}d.then((function(e){var t=h.getElement(i);h.addSuccess(n,t,o),h.preventExpand=!1})).catch((function(e){return h.dmFailure(e)}))}},t.prototype.deleteSuccess=function(e){for(var t=0,i=e.length;t<i;t++){var s=this.getElement(e[t]);Object(a.J)(s)||this.removeNode(s)}1===this.dataType&&(this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)),this.triggerEvent()},t.prototype.editSucess=function(e,t,i){var s=this.getElement(e),n=Object(a.V)("."+v,s);this.appendNewText(s,n,t,i)},t.prototype.addSuccess=function(e,t,i){var s,a=t?t.querySelector("."+k):null,n=this;t&&a&&a.classList.contains(g)&&null===t.querySelector("."+O)?n.renderChildNodes(t,null,(function(){s=t.querySelector("."+O),n.addGivenNodes(e,t,i,!0,s),n.triggerEvent()})):(this.addGivenNodes(e,t,i,!0),this.triggerEvent())},t.prototype.dmFailure=function(e,t,i){t&&this.updatePreviousText(t,i),this.trigger("actionFailure",{error:e})},t.prototype.updatePreviousText=function(e,t){var i=this.getElement(e),s=Object(a.V)("."+v,i);this.updateText(i,s,this.oldText,t)},t.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++){switch(s[i]){case"allowDragAndDrop":this.setDragAndDrop(this.allowDragAndDrop);break;case"dragArea":this.allowDragAndDrop&&(this.dragObj.dragArea=this.dragArea);break;case"allowEditing":this.wireEditingEvents(this.allowEditing);break;case"allowMultiSelection":if(this.selectedNodes.length>1){var n=this.getElement(this.selectedNodes[0]);this.isLoaded=!1,this.removeSelectAll(),this.selectNode(n,null),this.isLoaded=!0}this.setMultiSelect(this.allowMultiSelection),this.addMultiSelect(this.allowMultiSelection);break;case"checkedNodes":this.showCheckBox&&(this.checkedNodes=t.checkedNodes,this.setCheckedNodes(e.checkedNodes));break;case"autoCheck":this.showCheckBox&&(this.autoCheck=e.autoCheck,this.ensureIndeterminate());break;case"cssClass":this.setCssClass(t.cssClass,e.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"expandedNodes":this.isAnimate=!1,this.isBlazorPlatform||this.setProperties({expandedNodes:[]},!0),this.collapseAll(),this.isInitalExpand=!0,this.isBlazorPlatform||this.setProperties({expandedNodes:Object(a.J)(e.expandedNodes)?[]:e.expandedNodes},!0),this.doExpandAction(),this.isInitalExpand=!1,this.isAnimate=!0;break;case"expandOn":this.wireExpandOnEvent(!1),this.setExpandOnType(),"None"===this.expandOnType||this.disabled||this.wireExpandOnEvent(!0);break;case"disabled":this.setDisabledMode(),this.dynamicState();break;case"fields":this.isAnimate=!1,this.isFieldChange=!0,this.initialRender=!0,this.blazorInitialRender||this.reRenderNodes(),this.blazorInitialRender=!1,this.initialRender=!1,this.isAnimate=!0,this.isFieldChange=!1;break;case"fullRowSelect":this.setFullRow(this.fullRowSelect),this.addFullRow(this.fullRowSelect);break;case"loadOnDemand":if(!1===this.loadOnDemand&&!this.onLoaded){for(var o=this.element.querySelectorAll("li"),r=0;r<o.length;)"true"!==o[r].getAttribute("aria-expanded")&&this.renderChildNodes(o[r],!0,null,!0),r++;this.onLoaded=!0}break;case"nodeTemplate":this.nodeTemplateFn=this.templateComplier(this.nodeTemplate),this.reRenderNodes();break;case"selectedNodes":this.removeSelectAll(),this.setProperties({selectedNodes:e.selectedNodes},!0),this.doSelectionAction();break;case"showCheckBox":case"sortOrder":this.reRenderNodes();break;case"fullRowNavigable":this.setProperties({fullRowNavigable:e.fullRowNavigable},!0),this.listBaseOption.itemNavigable=e.fullRowNavigable,this.reRenderNodes()}}},t.prototype.destroy=function(){Object(a.T)(this.element.id+"nodeTemplate","NodeTemplate"),this.clearTemplate(),this.element.removeAttribute("aria-activedescendant"),this.element.removeAttribute("tabindex"),this.unWireEvents(),this.wireEditingEvents(!1),this.disabled||(this.rippleFn(),this.rippleIconFn()),this.setCssClass(this.cssClass,null),this.setDragAndDrop(!1),this.setFullRow(!1),this.isBlazorPlatform&&(this.ulElement=this.element.querySelector(".e-list-parent.e-ul")),this.ulElement&&this.ulElement.parentElement&&this.ulElement.parentElement.removeChild(this.ulElement),this.isBlazorPlatform||e.prototype.destroy.call(this)},t.prototype.addNodes=function(e,t,i,s){if(!Object(a.J)(e)){e=JSON.parse(JSON.stringify(e));var o=this.getElement(t);if(this.preventExpand=s,this.fields.dataSource instanceof n.a&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName)this.isOffline?this.addSuccess(e,o,i):this.crudOperation("insert",null,t,null,e,i,this.preventExpand);else if(2===this.dataType)this.addGivenNodes(e,o,i);else{if(o)this.addGivenNodes(e,o,i);else{e=this.getSortedData(e);for(var r=0;r<e.length;r++){var d=Object(a.H)(this.fields.parentID,e[r]);o=d?this.getElement(d.toString()):d,this.addGivenNodes([e[r]],o,i)}}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}this.updateCheckedStateFromDS(),this.showCheckBox&&o&&this.ensureParentCheckState(o),(this.fields.dataSource instanceof n.a==!1||this.fields.dataSource instanceof n.a&&"BlazorAdaptor"===this.fields.dataSource.adaptorName)&&(this.preventExpand=!1,this.triggerEvent())}},t.prototype.beginEdit=function(e){var t=this.getElement(e);Object(a.J)(t)||this.disabled||this.createTextbox(t,null)},t.prototype.checkAll=function(e){this.showCheckBox&&this.doCheckBoxAction(e,!0)},t.prototype.collapseAll=function(e,t,i){Object(a.J)(e)?t>0?this.collapseByLevel(Object(a.V)("."+O,this.element),t,i):this.collapseAllNodes(i):this.doGivenAction(e,f,!1)},t.prototype.disableNodes=function(e){Object(a.J)(e)||this.doDisableAction(e)},t.prototype.enableNodes=function(e){Object(a.J)(e)||this.doEnableAction(e)},t.prototype.ensureVisible=function(e){var t=this.getElement(e);if(!Object(a.J)(t)){var i=this.parents(t,"."+b);this.expandAll(i),setTimeout((function(){t.scrollIntoView(!0)}),450)}},t.prototype.expandAll=function(e,t,i){Object(a.J)(e)?t>0?this.expandByLevel(Object(a.V)("."+O,this.element),t,i):this.expandAllNodes(i):this.doGivenAction(e,g,!0)},t.prototype.getAllCheckedNodes=function(){return this.checkedNodes},t.prototype.getDisabledNodes=function(){return this.disableNode},t.prototype.getNode=function(e){var t=this.getElement(e);return this.getNodeData(t,!0)},t.prototype.getTreeData=function(e){var t=this.getId(e);if(this.updatePersistProp(),Object(a.J)(t))return this.treeData;var i=this.getNodeObject(t);return Object(a.J)(i)?[]:[i]},t.prototype.moveNodes=function(e,t,i,s){var o=this.getElement(t);if(!Object(a.J)(o)){for(var r=0;r<e.length;r++){var d=this.getElement(e[r]);Object(a.J)(d)||o.isSameNode(d)||this.isDescendant(d,o)||(this.preventExpand=s,this.dropAsChildNode(d,o,this,i))}this.fields.dataSource instanceof n.a==!1&&(this.preventExpand=!1),this.triggerEvent()}},t.prototype.refreshNode=function(e,t){if(!Object(a.J)(e)&&!Object(a.J)(t)){var i,s=!1;if(1==this.dataType&&t.length>1)s=!0;else if(2==this.dataType&&1===t.length){var n=Object(a.H)(this.fields.child.toString(),t[0]);Object(a.J)(n)||(s=!0)}var o,d,h=this.getElement(e);if(i=h?h.getAttribute("data-uid"):e?e.toString():null,this.refreshData=this.getNodeObject(i),t=JSON.parse(JSON.stringify(t)),1==this.dataType&&s){for(var l=0;l<t.length;l++)if(Object(a.J)(t[l][this.fields.parentID])){d=t[l],t.splice(l,1);break}o=Object(a.B)({},this.refreshData,d)}else o=Object(a.B)({},this.refreshData,t[0]);if(Object(a.J)(h))this.updatePosition(i,o,s,t);else{this.isRefreshed=!0;var c=parseFloat(h.getAttribute("aria-level")),p=r.a.createListItemFromJson(this.createElement,[o],this.listBaseOption,c),u=Object(a.V)("."+O,h),b=Object(a.H)(this.fields.child.toString(),o);if(s&&u||s&&!Object(a.J)(b)){var v=h.parentElement,j=Array.prototype.indexOf.call(v.childNodes,h);Object(a.R)(h),v.insertBefore(p[0],v.childNodes[j]),this.updatePosition(i,o,s,t),s&&u&&this.expandAll([i])}else{var N=Object(a.V)("."+C,h),y=Object(a.V)("."+C,p[0]),S=Object(a.V)("div."+k,N),x=Object(a.V)("div."+k,y);S&&x&&(x.classList.contains(g)&&S.classList.contains(f)?(Object(a.S)([x],g),Object(a.s)([x],f)):x.classList.contains(f)&&S.classList.contains(g)?(Object(a.S)([x],f),Object(a.s)([x],g)):S.classList.contains("interaction")&&Object(a.s)([x],"interaction")),Object(a.R)(N);var w=Object(a.V)("."+D,h);w.parentNode.insertBefore(y,w.nextSibling),this.updatePosition(i,o,s,t)}if(h=this.getElement(e),o[this.fields.tooltip]&&h.setAttribute("title",o[this.fields.tooltip]),o.hasOwnProperty(this.fields.htmlAttributes)&&o[this.fields.htmlAttributes]){var E={};Object(a.P)(E,o[this.fields.htmlAttributes]),E.class?(Object(a.s)([h],E.class.split(" ")),delete E.class):Object(a.u)(h,E)}-1!==this.selectedNodes.indexOf(i)&&(h.setAttribute("aria-selected","true"),Object(a.s)([h],m)),this.isRefreshed=!1,this.triggerEvent()}}},t.prototype.removeNodes=function(e){Object(a.J)(e)||(this.fields.dataSource instanceof n.a&&!this.isOffline&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName?this.crudOperation("delete",e):this.deleteSuccess(e))},t.prototype.updateNode=function(e,t){var i=this;if(!Object(a.J)(e)&&!Object(a.J)(t)&&this.allowEditing){var s=this.getElement(e);if(!Object(a.J)(s)){var o=Object(a.V)("."+v,s);this.updateOldText(s);var r=this.getEditEvent(s,null,null);this.trigger("nodeEditing",r,(function(a){a.cancel||(i.fields.dataSource instanceof n.a&&!i.isOffline&&"BlazorAdaptor"!==i.fields.dataSource.adaptorName?i.crudOperation("update",null,e,t,null,null,!1):i.appendNewText(s,o,t,!1))}))}}},t.prototype.uncheckAll=function(e){this.showCheckBox&&this.doCheckBoxAction(e,!1)},p([Object(a.p)(!1)],t.prototype,"allowDragAndDrop",void 0),p([Object(a.p)(!1)],t.prototype,"allowEditing",void 0),p([Object(a.p)(!1)],t.prototype,"allowMultiSelection",void 0),p([Object(a.f)({},I)],t.prototype,"animation",void 0),p([Object(a.p)()],t.prototype,"checkedNodes",void 0),p([Object(a.p)("")],t.prototype,"cssClass",void 0),p([Object(a.p)(!1)],t.prototype,"disabled",void 0),p([Object(a.p)(null)],t.prototype,"dragArea",void 0),p([Object(a.p)(!1)],t.prototype,"enableHtmlSanitizer",void 0),p([Object(a.p)(!1)],t.prototype,"enablePersistence",void 0),p([Object(a.p)()],t.prototype,"expandedNodes",void 0),p([Object(a.p)("Auto")],t.prototype,"expandOn",void 0),p([Object(a.f)({},J)],t.prototype,"fields",void 0),p([Object(a.p)(!0)],t.prototype,"fullRowSelect",void 0),p([Object(a.p)(!0)],t.prototype,"loadOnDemand",void 0),p([Object(a.p)()],t.prototype,"locale",void 0),p([Object(a.p)()],t.prototype,"nodeTemplate",void 0),p([Object(a.p)()],t.prototype,"selectedNodes",void 0),p([Object(a.p)("None")],t.prototype,"sortOrder",void 0),p([Object(a.p)(!1)],t.prototype,"showCheckBox",void 0),p([Object(a.p)(!0)],t.prototype,"autoCheck",void 0),p([Object(a.p)(!1)],t.prototype,"fullRowNavigable",void 0),p([Object(a.j)()],t.prototype,"actionFailure",void 0),p([Object(a.j)()],t.prototype,"created",void 0),p([Object(a.j)()],t.prototype,"dataBound",void 0),p([Object(a.j)()],t.prototype,"dataSourceChanged",void 0),p([Object(a.j)()],t.prototype,"drawNode",void 0),p([Object(a.j)()],t.prototype,"destroyed",void 0),p([Object(a.j)()],t.prototype,"keyPress",void 0),p([Object(a.j)()],t.prototype,"nodeChecked",void 0),p([Object(a.j)()],t.prototype,"nodeChecking",void 0),p([Object(a.j)()],t.prototype,"nodeClicked",void 0),p([Object(a.j)()],t.prototype,"nodeCollapsed",void 0),p([Object(a.j)()],t.prototype,"nodeCollapsing",void 0),p([Object(a.j)()],t.prototype,"nodeDragging",void 0),p([Object(a.j)()],t.prototype,"nodeDragStart",void 0),p([Object(a.j)()],t.prototype,"nodeDragStop",void 0),p([Object(a.j)()],t.prototype,"nodeDropped",void 0),p([Object(a.j)()],t.prototype,"nodeEdited",void 0),p([Object(a.j)()],t.prototype,"nodeEditing",void 0),p([Object(a.j)()],t.prototype,"nodeExpanded",void 0),p([Object(a.j)()],t.prototype,"nodeExpanding",void 0),p([Object(a.j)()],t.prototype,"nodeSelected",void 0),p([Object(a.j)()],t.prototype,"nodeSelecting",void 0),t=i=p([a.n],t)}(a.g)}}]);
//# sourceMappingURL=5c8a4e0f-buttons.js.map